var Dr=Object.defineProperty,Ir=Object.defineProperties;var Mr=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var Fr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable;var $t=(r,e,i)=>e in r?Dr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,F=(r,e)=>{for(var i in e||(e={}))Fr.call(e,i)&&$t(r,i,e[i]);if(Kt)for(var i of Kt(e))kr.call(e,i)&&$t(r,i,e[i]);return r},Xt=(r,e)=>Ir(r,Mr(e));import{r as Br,o as ee,c as re,a as Ue,g as Ur,d as Ye,b as Y,e as st,n as qe,w as at,f as Yt,h as T,i as Oe,t as Fe,F as qt,j as jr,k as Ot,l as je,v as Ne,p as ut,m as dt,q as Rt,s as ct,u as Qt,x as Ge,y as Nr,z as Vr,A as Gr}from"./vendor.c55e8ff5.js";const zr=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))g(x);new MutationObserver(x=>{for(const b of x)if(b.type==="childList")for(const E of b.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&g(E)}).observe(document,{childList:!0,subtree:!0});function i(x){const b={};return x.integrity&&(b.integrity=x.integrity),x.referrerpolicy&&(b.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?b.credentials="include":x.crossorigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function g(x){if(x.ep)return;x.ep=!0;const b=i(x);fetch(x.href,b)}};zr();var Qe=(r,e)=>{const i=r.__vccOpts||r;for(const[g,x]of e)i[g]=x;return i};const Wr={};function Hr(r,e){const i=Br("router-view");return ee(),re("div",null,[Ue(i)])}var Kr=Qe(Wr,[["render",Hr]]);var Jt={exports:{}};(function(r,e){(function(g,x){r.exports=x()})(self,function(){return function(){var i={"./node_modules/es6-promise/dist/es6-promise.js":function(E,_,f){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(y,u){E.exports=u()})(this,function(){function y(I){var B=typeof I;return I!==null&&(B==="object"||B==="function")}function u(I){return typeof I=="function"}var a=void 0;Array.isArray?a=Array.isArray:a=function(I){return Object.prototype.toString.call(I)==="[object Array]"};var l=a,p=0,s=void 0,h=void 0,m=function(B,U){O[p]=B,O[p+1]=U,p+=2,p===2&&(h?h(P):D())};function d(I){h=I}function n(I){m=I}var c=typeof window!="undefined"?window:void 0,o=c||{},t=o.MutationObserver||o.WebKitMutationObserver,v=typeof self=="undefined"&&typeof process!="undefined"&&{}.toString.call(process)==="[object process]",S=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function A(){return function(){return process.nextTick(P)}}function C(){return typeof s!="undefined"?function(){s(P)}:w()}function R(){var I=0,B=new t(P),U=document.createTextNode("");return B.observe(U,{characterData:!0}),function(){U.data=I=++I%2}}function L(){var I=new MessageChannel;return I.port1.onmessage=P,function(){return I.port2.postMessage(0)}}function w(){var I=setTimeout;return function(){return I(P,1)}}var O=new Array(1e3);function P(){for(var I=0;I<p;I+=2){var B=O[I],U=O[I+1];B(U),O[I]=void 0,O[I+1]=void 0}p=0}function M(){try{var I=Function("return this")().require("vertx");return s=I.runOnLoop||I.runOnContext,C()}catch{return w()}}var D=void 0;v?D=A():t?D=R():S?D=L():c===void 0?D=M():D=w();function k(I,B){var U=this,z=new this.constructor(W);z[K]===void 0&&Ce(z);var H=U._state;if(H){var $=arguments[H-1];m(function(){return q(H,z,$,U._result)})}else fe(U,z,I,B);return z}function G(I){var B=this;if(I&&typeof I=="object"&&I.constructor===B)return I;var U=new B(W);return ue(U,I),U}var K=Math.random().toString(36).substring(2);function W(){}var Z=void 0,X=1,V=2;function Q(){return new TypeError("You cannot resolve a promise with itself")}function Ae(){return new TypeError("A promises callback cannot return that same promise.")}function se(I,B,U,z){try{I.call(B,U,z)}catch(H){return H}}function ie(I,B,U){m(function(z){var H=!1,$=se(U,B,function(oe){H||(H=!0,B!==oe?ue(z,oe):J(z,oe))},function(oe){H||(H=!0,N(z,oe))},"Settle: "+(z._label||" unknown promise"));!H&&$&&(H=!0,N(z,$))},I)}function pe(I,B){B._state===X?J(I,B._result):B._state===V?N(I,B._result):fe(B,void 0,function(U){return ue(I,U)},function(U){return N(I,U)})}function le(I,B,U){B.constructor===I.constructor&&U===k&&B.constructor.resolve===G?pe(I,B):U===void 0?J(I,B):u(U)?ie(I,B,U):J(I,B)}function ue(I,B){if(I===B)N(I,Q());else if(y(B)){var U=void 0;try{U=B.then}catch(z){N(I,z);return}le(I,B,U)}else J(I,B)}function Ee(I){I._onerror&&I._onerror(I._result),j(I)}function J(I,B){I._state===Z&&(I._result=B,I._state=X,I._subscribers.length!==0&&m(j,I))}function N(I,B){I._state===Z&&(I._state=V,I._result=B,m(Ee,I))}function fe(I,B,U,z){var H=I._subscribers,$=H.length;I._onerror=null,H[$]=B,H[$+X]=U,H[$+V]=z,$===0&&I._state&&m(j,I)}function j(I){var B=I._subscribers,U=I._state;if(B.length!==0){for(var z=void 0,H=void 0,$=I._result,oe=0;oe<B.length;oe+=3)z=B[oe],H=B[oe+U],z?q(U,z,H,$):H($);I._subscribers.length=0}}function q(I,B,U,z){var H=u(U),$=void 0,oe=void 0,Re=!0;if(H){try{$=U(z)}catch(Xe){Re=!1,oe=Xe}if(B===$){N(B,Ae());return}}else $=z;B._state!==Z||(H&&Re?ue(B,$):Re===!1?N(B,oe):I===X?J(B,$):I===V&&N(B,$))}function te(I,B){try{B(function(z){ue(I,z)},function(z){N(I,z)})}catch(U){N(I,U)}}var ce=0;function we(){return ce++}function Ce(I){I[K]=ce++,I._state=void 0,I._result=void 0,I._subscribers=[]}function be(){return new Error("Array Methods must be provided an Array")}var ae=function(){function I(B,U){this._instanceConstructor=B,this.promise=new B(W),this.promise[K]||Ce(this.promise),l(U)?(this.length=U.length,this._remaining=U.length,this._result=new Array(this.length),this.length===0?J(this.promise,this._result):(this.length=this.length||0,this._enumerate(U),this._remaining===0&&J(this.promise,this._result))):N(this.promise,be())}return I.prototype._enumerate=function(U){for(var z=0;this._state===Z&&z<U.length;z++)this._eachEntry(U[z],z)},I.prototype._eachEntry=function(U,z){var H=this._instanceConstructor,$=H.resolve;if($===G){var oe=void 0,Re=void 0,Xe=!1;try{oe=U.then}catch(it){Xe=!0,Re=it}if(oe===k&&U._state!==Z)this._settledAt(U._state,z,U._result);else if(typeof oe!="function")this._remaining--,this._result[z]=U;else if(H===he){var Ve=new H(W);Xe?N(Ve,Re):le(Ve,U,oe),this._willSettleAt(Ve,z)}else this._willSettleAt(new H(function(it){return it(U)}),z)}else this._willSettleAt($(U),z)},I.prototype._settledAt=function(U,z,H){var $=this.promise;$._state===Z&&(this._remaining--,U===V?N($,H):this._result[z]=H),this._remaining===0&&J($,this._result)},I.prototype._willSettleAt=function(U,z){var H=this;fe(U,void 0,function($){return H._settledAt(X,z,$)},function($){return H._settledAt(V,z,$)})},I}();function ne(I){return new ae(this,I).promise}function Se(I){var B=this;return l(I)?new B(function(U,z){for(var H=I.length,$=0;$<H;$++)B.resolve(I[$]).then(U,z)}):new B(function(U,z){return z(new TypeError("You must pass an array to race."))})}function Be(I){var B=this,U=new B(W);return N(U,I),U}function De(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var he=function(){function I(B){this[K]=we(),this._result=this._state=void 0,this._subscribers=[],W!==B&&(typeof B!="function"&&De(),this instanceof I?te(this,B):Ie())}return I.prototype.catch=function(U){return this.then(null,U)},I.prototype.finally=function(U){var z=this,H=z.constructor;return u(U)?z.then(function($){return H.resolve(U()).then(function(){return $})},function($){return H.resolve(U()).then(function(){throw $})}):z.then(U,U)},I}();he.prototype.then=k,he.all=ne,he.race=Se,he.resolve=G,he.reject=Be,he._setScheduler=d,he._setAsap=n,he._asap=m;function lt(){var I=void 0;if(typeof f.g!="undefined")I=f.g;else if(typeof self!="undefined")I=self;else try{I=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var B=I.Promise;if(B){var U=null;try{U=Object.prototype.toString.call(B.resolve())}catch{}if(U==="[object Promise]"&&!B.cast)return}I.Promise=he}return he.polyfill=lt,he.Promise=he,he})},"./node_modules/events/events.js":function(E){var _=typeof Reflect=="object"?Reflect:null,f=_&&typeof _.apply=="function"?_.apply:function(w,O,P){return Function.prototype.apply.call(w,O,P)},y;_&&typeof _.ownKeys=="function"?y=_.ownKeys:Object.getOwnPropertySymbols?y=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:y=function(w){return Object.getOwnPropertyNames(w)};function u(L){console&&console.warn&&console.warn(L)}var a=Number.isNaN||function(w){return w!==w};function l(){l.init.call(this)}E.exports=l,E.exports.once=A,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var p=10;function s(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(L){if(typeof L!="number"||L<0||a(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");p=L}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||a(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function h(L){return L._maxListeners===void 0?l.defaultMaxListeners:L._maxListeners}l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(w){for(var O=[],P=1;P<arguments.length;P++)O.push(arguments[P]);var M=w==="error",D=this._events;if(D!==void 0)M=M&&D.error===void 0;else if(!M)return!1;if(M){var k;if(O.length>0&&(k=O[0]),k instanceof Error)throw k;var G=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw G.context=k,G}var K=D[w];if(K===void 0)return!1;if(typeof K=="function")f(K,this,O);else for(var W=K.length,Z=t(K,W),P=0;P<W;++P)f(Z[P],this,O);return!0};function m(L,w,O,P){var M,D,k;if(s(O),D=L._events,D===void 0?(D=L._events=Object.create(null),L._eventsCount=0):(D.newListener!==void 0&&(L.emit("newListener",w,O.listener?O.listener:O),D=L._events),k=D[w]),k===void 0)k=D[w]=O,++L._eventsCount;else if(typeof k=="function"?k=D[w]=P?[O,k]:[k,O]:P?k.unshift(O):k.push(O),M=h(L),M>0&&k.length>M&&!k.warned){k.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=L,G.type=w,G.count=k.length,u(G)}return L}l.prototype.addListener=function(w,O){return m(this,w,O,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(w,O){return m(this,w,O,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n(L,w,O){var P={fired:!1,wrapFn:void 0,target:L,type:w,listener:O},M=d.bind(P);return M.listener=O,P.wrapFn=M,M}l.prototype.once=function(w,O){return s(O),this.on(w,n(this,w,O)),this},l.prototype.prependOnceListener=function(w,O){return s(O),this.prependListener(w,n(this,w,O)),this},l.prototype.removeListener=function(w,O){var P,M,D,k,G;if(s(O),M=this._events,M===void 0)return this;if(P=M[w],P===void 0)return this;if(P===O||P.listener===O)--this._eventsCount==0?this._events=Object.create(null):(delete M[w],M.removeListener&&this.emit("removeListener",w,P.listener||O));else if(typeof P!="function"){for(D=-1,k=P.length-1;k>=0;k--)if(P[k]===O||P[k].listener===O){G=P[k].listener,D=k;break}if(D<0)return this;D===0?P.shift():v(P,D),P.length===1&&(M[w]=P[0]),M.removeListener!==void 0&&this.emit("removeListener",w,G||O)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(w){var O,P,M;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete P[w]),this;if(arguments.length===0){var D=Object.keys(P),k;for(M=0;M<D.length;++M)k=D[M],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=P[w],typeof O=="function")this.removeListener(w,O);else if(O!==void 0)for(M=O.length-1;M>=0;M--)this.removeListener(w,O[M]);return this};function c(L,w,O){var P=L._events;if(P===void 0)return[];var M=P[w];return M===void 0?[]:typeof M=="function"?O?[M.listener||M]:[M]:O?S(M):t(M,M.length)}l.prototype.listeners=function(w){return c(this,w,!0)},l.prototype.rawListeners=function(w){return c(this,w,!1)},l.listenerCount=function(L,w){return typeof L.listenerCount=="function"?L.listenerCount(w):o.call(L,w)},l.prototype.listenerCount=o;function o(L){var w=this._events;if(w!==void 0){var O=w[L];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]};function t(L,w){for(var O=new Array(w),P=0;P<w;++P)O[P]=L[P];return O}function v(L,w){for(;w+1<L.length;w++)L[w]=L[w+1];L.pop()}function S(L){for(var w=new Array(L.length),O=0;O<w.length;++O)w[O]=L[O].listener||L[O];return w}function A(L,w){return new Promise(function(O,P){function M(k){L.removeListener(w,D),P(k)}function D(){typeof L.removeListener=="function"&&L.removeListener("error",M),O([].slice.call(arguments))}R(L,w,D,{once:!0}),w!=="error"&&C(L,M,{once:!0})})}function C(L,w,O){typeof L.on=="function"&&R(L,"error",w,O)}function R(L,w,O,P){if(typeof L.on=="function")P.once?L.once(w,O):L.on(w,O);else if(typeof L.addEventListener=="function")L.addEventListener(w,function M(D){P.once&&L.removeEventListener(w,M),O(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}},"./node_modules/webworkify-webpack/index.js":function(E,_,f){function y(d){var n={};function c(t){if(n[t])return n[t].exports;var v=n[t]={i:t,l:!1,exports:{}};return d[t].call(v.exports,v,v.exports,c),v.l=!0,v.exports}c.m=d,c.c=n,c.i=function(t){return t},c.d=function(t,v,S){c.o(t,v)||Object.defineProperty(t,v,{configurable:!1,enumerable:!0,get:S})},c.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},c.n=function(t){var v=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(v,"a",v),v},c.o=function(t,v){return Object.prototype.hasOwnProperty.call(t,v)},c.p="/",c.oe=function(t){throw console.error(t),t};var o=c(c.s=ENTRY_MODULE);return o.default||o}var u="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function l(d){return(d+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(d){return!isNaN(1*d)}function s(d,n,c){var o={};o[c]=[];var t=n.toString(),v=t.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!v)return o;for(var S=v[1],A=new RegExp("(\\\\n|\\W)"+l(S)+a,"g"),C;C=A.exec(t);)C[3]!=="dll-reference"&&o[c].push(C[3]);for(A=new RegExp("\\("+l(S)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+a,"g");C=A.exec(t);)d[C[2]]||(o[c].push(C[1]),d[C[2]]=f(C[1]).m),o[C[2]]=o[C[2]]||[],o[C[2]].push(C[4]);for(var R=Object.keys(o),L=0;L<R.length;L++)for(var w=0;w<o[R[L]].length;w++)p(o[R[L]][w])&&(o[R[L]][w]=1*o[R[L]][w]);return o}function h(d){var n=Object.keys(d);return n.reduce(function(c,o){return c||d[o].length>0},!1)}function m(d,n){for(var c={main:[n]},o={main:[]},t={main:{}};h(c);)for(var v=Object.keys(c),S=0;S<v.length;S++){var A=v[S],C=c[A],R=C.pop();if(t[A]=t[A]||{},!(t[A][R]||!d[A][R])){t[A][R]=!0,o[A]=o[A]||[],o[A].push(R);for(var L=s(d,d[A][R],A),w=Object.keys(L),O=0;O<w.length;O++)c[w[O]]=c[w[O]]||[],c[w[O]]=c[w[O]].concat(L[w[O]])}}return o}E.exports=function(d,n){n=n||{};var c={main:f.m},o=n.all?{main:Object.keys(c.main)}:m(c,d),t="";Object.keys(o).filter(function(R){return R!=="main"}).forEach(function(R){for(var L=0;o[R][L];)L++;o[R].push(L),c[R][L]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",t=t+"var "+R+" = ("+y.toString().replace("ENTRY_MODULE",JSON.stringify(L))+")({"+o[R].map(function(w){return""+JSON.stringify(w)+": "+c[R][w].toString()}).join(",")+`});
`}),t=t+"new (("+y.toString().replace("ENTRY_MODULE",JSON.stringify(d))+")({"+o.main.map(function(R){return""+JSON.stringify(R)+": "+c.main[R].toString()}).join(",")+"}))(self);";var v=new window.Blob([t],{type:"text/javascript"});if(n.bare)return v;var S=window.URL||window.webkitURL||window.mozURL||window.msURL,A=S.createObjectURL(v),C=new window.Worker(A);return C.objectURL=A,C}},"./src/config.js":function(E,_,f){f.r(_),f.d(_,{defaultConfig:function(){return y},createDefaultConfig:function(){return u}});var y={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},y)}},"./src/core/features.js":function(E,_,f){f.r(_);var y=f("./src/io/io-controller.js"),u=f("./src/config.js"),a=function(){function l(){}return l.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},l.supportNetworkStreamIO=function(){var p=new y.default({},(0,u.createDefaultConfig)()),s=p.loaderType;return p.destroy(),s=="fetch-stream-loader"||s=="xhr-moz-chunked-loader"},l.getNetworkLoaderTypeName=function(){var p=new y.default({},(0,u.createDefaultConfig)()),s=p.loaderType;return p.destroy(),s},l.supportNativeMediaPlayback=function(p){l.videoElement==null&&(l.videoElement=window.document.createElement("video"));var s=l.videoElement.canPlayType(p);return s==="probably"||s=="maybe"},l.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=l.supportMSEH264Playback(),p.networkStreamIO=l.supportNetworkStreamIO(),p.networkLoaderName=l.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=l.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},l}();_.default=a},"./src/core/media-info.js":function(E,_,f){f.r(_);var y=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var a=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,l=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&a&&l},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(a){if(this.keyframesIndex==null)return null;var l=this.keyframesIndex,p=this._search(l.times,a);return{index:p,milliseconds:l.times[p],fileposition:l.filepositions[p]}},u.prototype._search=function(a,l){var p=0,s=a.length-1,h=0,m=0,d=s;for(l<a[0]&&(p=0,m=d+1);m<=d;)if(h=m+Math.floor((d-m)/2),h===s||l>=a[h]&&l<a[h+1]){p=h;break}else a[h]<l?m=h+1:d=h-1;return p},u}();_.default=y},"./src/core/media-segment-info.js":function(E,_,f){f.r(_),f.d(_,{SampleInfo:function(){return y},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return a},MediaSegmentInfoList:function(){return l}});var y=function(){function p(s,h,m,d,n){this.dts=s,this.pts=h,this.duration=m,this.originalDts=d,this.isSyncPoint=n,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(s){s.isSyncPoint=!0,this.syncPoints.push(s)},p}(),a=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(s){var h=this._list;s.length!==0&&(h.length>0&&s[0].originalDts<h[h.length-1].originalDts&&this.clear(),Array.prototype.push.apply(h,s))},p.prototype.getLastSyncPointBeforeDts=function(s){if(this._list.length==0)return null;var h=this._list,m=0,d=h.length-1,n=0,c=0,o=d;for(s<h[0].dts&&(m=0,c=o+1);c<=o;)if(n=c+Math.floor((o-c)/2),n===d||s>=h[n].dts&&s<h[n+1].dts){m=n;break}else h[n].dts<s?c=n+1:o=n-1;return this._list[m]},p}(),l=function(){function p(s){this._type=s,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(s){var h=this._list;if(h.length===0)return-2;var m=h.length-1,d=0,n=0,c=m,o=0;if(s<h[0].originalBeginDts)return o=-1,o;for(;n<=c;)if(d=n+Math.floor((c-n)/2),d===m||s>h[d].lastSample.originalDts&&s<h[d+1].originalBeginDts){o=d;break}else h[d].originalBeginDts<s?n=d+1:c=d-1;return o},p.prototype._searchNearestSegmentAfter=function(s){return this._searchNearestSegmentBefore(s)+1},p.prototype.append=function(s){var h=this._list,m=s,d=this._lastAppendLocation,n=0;d!==-1&&d<h.length&&m.originalBeginDts>=h[d].lastSample.originalDts&&(d===h.length-1||d<h.length-1&&m.originalBeginDts<h[d+1].originalBeginDts)?n=d+1:h.length>0&&(n=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=n,this._list.splice(n,0,m)},p.prototype.getLastSegmentBefore=function(s){var h=this._searchNearestSegmentBefore(s);return h>=0?this._list[h]:null},p.prototype.getLastSampleBefore=function(s){var h=this.getLastSegmentBefore(s);return h!=null?h.lastSample:null},p.prototype.getLastSyncPointBefore=function(s){for(var h=this._searchNearestSegmentBefore(s),m=this._list[h].syncPoints;m.length===0&&h>0;)h--,m=this._list[h].syncPoints;return m.length>0?m[m.length-1]:null},p}()},"./src/core/mse-controller.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),p=f("./src/core/mse-events.js"),s=f("./src/core/media-segment-info.js"),h=f("./src/utils/exception.js"),m=function(){function d(n){this.TAG="MSEController",this._config=n,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new s.IDRSampleList}return d.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},d.prototype.on=function(n,c){this._emitter.addListener(n,c)},d.prototype.off=function(n,c){this._emitter.removeListener(n,c)},d.prototype.attachMediaElement=function(n){if(this._mediaSource)throw new h.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var c=this._mediaSource=new window.MediaSource;c.addEventListener("sourceopen",this.e.onSourceOpen),c.addEventListener("sourceended",this.e.onSourceEnded),c.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=n,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),n.src=this._mediaSourceObjectURL},d.prototype.detachMediaElement=function(){if(this._mediaSource){var n=this._mediaSource;for(var c in this._sourceBuffers){var o=this._pendingSegments[c];o.splice(0,o.length),this._pendingSegments[c]=null,this._pendingRemoveRanges[c]=null,this._lastInitSegments[c]=null;var t=this._sourceBuffers[c];if(t){if(n.readyState!=="closed"){try{n.removeSourceBuffer(t)}catch(v){a.default.e(this.TAG,v.message)}t.removeEventListener("error",this.e.onSourceBufferError),t.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[c]=null,this._sourceBuffers[c]=null}}if(n.readyState==="open")try{n.endOfStream()}catch(v){a.default.e(this.TAG,v.message)}n.removeEventListener("sourceopen",this.e.onSourceOpen),n.removeEventListener("sourceended",this.e.onSourceEnded),n.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},d.prototype.appendInitSegment=function(n,c){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(n),this._pendingSegments[n.type].push(n);return}var o=n,t=""+o.container;o.codec&&o.codec.length>0&&(t+=";codecs="+o.codec);var v=!1;if(a.default.v(this.TAG,"Received Initialization Segment, mimeType: "+t),this._lastInitSegments[o.type]=o,t!==this._mimeTypes[o.type]){if(this._mimeTypes[o.type])a.default.v(this.TAG,"Notice: "+o.type+" mimeType changed, origin: "+this._mimeTypes[o.type]+", target: "+t);else{v=!0;try{var S=this._sourceBuffers[o.type]=this._mediaSource.addSourceBuffer(t);S.addEventListener("error",this.e.onSourceBufferError),S.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){a.default.e(this.TAG,A.message),this._emitter.emit(p.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[o.type]=t}c||this._pendingSegments[o.type].push(o),v||this._sourceBuffers[o.type]&&!this._sourceBuffers[o.type].updating&&this._doAppendSegments(),l.default.safari&&o.container==="audio/mpeg"&&o.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=o.mediaDuration/1e3,this._updateMediaSourceDuration())},d.prototype.appendMediaSegment=function(n){var c=n;this._pendingSegments[c.type].push(c),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var o=this._sourceBuffers[c.type];o&&!o.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},d.prototype.seek=function(n){for(var c in this._sourceBuffers)if(!!this._sourceBuffers[c]){var o=this._sourceBuffers[c];if(this._mediaSource.readyState==="open")try{o.abort()}catch(R){a.default.e(this.TAG,R.message)}this._idrList.clear();var t=this._pendingSegments[c];if(t.splice(0,t.length),this._mediaSource.readyState!=="closed"){for(var v=0;v<o.buffered.length;v++){var S=o.buffered.start(v),A=o.buffered.end(v);this._pendingRemoveRanges[c].push({start:S,end:A})}if(o.updating||this._doRemoveRanges(),l.default.safari){var C=this._lastInitSegments[c];C&&(this._pendingSegments[c].push(C),o.updating||this._doAppendSegments())}}}},d.prototype.endOfStream=function(){var n=this._mediaSource,c=this._sourceBuffers;if(!n||n.readyState!=="open"){n&&n.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}c.video&&c.video.updating||c.audio&&c.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,n.endOfStream())},d.prototype.getNearestKeyframe=function(n){return this._idrList.getLastSyncPointBeforeDts(n)},d.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var n=this._mediaElement.currentTime;for(var c in this._sourceBuffers){var o=this._sourceBuffers[c];if(o){var t=o.buffered;if(t.length>=1&&n-t.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},d.prototype._doCleanupSourceBuffer=function(){var n=this._mediaElement.currentTime;for(var c in this._sourceBuffers){var o=this._sourceBuffers[c];if(o){for(var t=o.buffered,v=!1,S=0;S<t.length;S++){var A=t.start(S),C=t.end(S);if(A<=n&&n<C+3){if(n-A>=this._config.autoCleanupMaxBackwardDuration){v=!0;var R=n-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[c].push({start:A,end:R})}}else C<n&&(v=!0,this._pendingRemoveRanges[c].push({start:A,end:C}))}v&&!o.updating&&this._doRemoveRanges()}}},d.prototype._updateMediaSourceDuration=function(){var n=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(n.video&&n.video.updating||n.audio&&n.audio.updating)){var c=this._mediaSource.duration,o=this._pendingMediaDuration;o>0&&(isNaN(c)||o>c)&&(a.default.v(this.TAG,"Update MediaSource duration from "+c+" to "+o),this._mediaSource.duration=o),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},d.prototype._doRemoveRanges=function(){for(var n in this._pendingRemoveRanges)if(!(!this._sourceBuffers[n]||this._sourceBuffers[n].updating))for(var c=this._sourceBuffers[n],o=this._pendingRemoveRanges[n];o.length&&!c.updating;){var t=o.shift();c.remove(t.start,t.end)}},d.prototype._doAppendSegments=function(){var n=this._pendingSegments;for(var c in n)if(!(!this._sourceBuffers[c]||this._sourceBuffers[c].updating)&&n[c].length>0){var o=n[c].shift();if(o.timestampOffset){var t=this._sourceBuffers[c].timestampOffset,v=o.timestampOffset/1e3,S=Math.abs(t-v);S>.1&&(a.default.v(this.TAG,"Update MPEG audio timestampOffset from "+t+" to "+v),this._sourceBuffers[c].timestampOffset=v),delete o.timestampOffset}if(!o.data||o.data.byteLength===0)continue;try{this._sourceBuffers[c].appendBuffer(o.data),this._isBufferFull=!1,c==="video"&&o.hasOwnProperty("info")&&this._idrList.appendArray(o.info.syncPoints)}catch(A){this._pendingSegments[c].unshift(o),A.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(a.default.e(this.TAG,A.message),this._emitter.emit(p.default.ERROR,{code:A.code,msg:A.message}))}}},d.prototype._onSourceOpen=function(){if(a.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var n=this._pendingSourceBufferInit;n.length;){var c=n.shift();this.appendInitSegment(c,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},d.prototype._onSourceEnded=function(){a.default.v(this.TAG,"MediaSource onSourceEnded")},d.prototype._onSourceClose=function(){a.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},d.prototype._hasPendingSegments=function(){var n=this._pendingSegments;return n.video.length>0||n.audio.length>0},d.prototype._hasPendingRemoveRanges=function(){var n=this._pendingRemoveRanges;return n.video.length>0||n.audio.length>0},d.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},d.prototype._onSourceBufferError=function(n){a.default.e(this.TAG,"SourceBuffer Error: "+n)},d}();_.default=m},"./src/core/mse-events.js":function(E,_,f){f.r(_);var y={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};_.default=y},"./src/core/transmuxer.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=f("./node_modules/webworkify-webpack/index.js"),l=f.n(a),p=f("./src/utils/logger.js"),s=f("./src/utils/logging-control.js"),h=f("./src/core/transmuxing-controller.js"),m=f("./src/core/transmuxing-events.js"),d=f("./src/core/media-info.js"),n=function(){function c(o,t){if(this.TAG="Transmuxer",this._emitter=new(u()),t.enableWorker&&typeof Worker!="undefined")try{this._worker=l()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[o,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},s.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:s.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new h.default(o,t)}else this._controller=new h.default(o,t);if(this._controller){var v=this._controller;v.on(m.default.IO_ERROR,this._onIOError.bind(this)),v.on(m.default.DEMUX_ERROR,this._onDemuxError.bind(this)),v.on(m.default.INIT_SEGMENT,this._onInitSegment.bind(this)),v.on(m.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),v.on(m.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),v.on(m.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),v.on(m.default.MEDIA_INFO,this._onMediaInfo.bind(this)),v.on(m.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),v.on(m.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),v.on(m.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),v.on(m.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return c.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),s.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},c.prototype.on=function(o,t){this._emitter.addListener(o,t)},c.prototype.off=function(o,t){this._emitter.removeListener(o,t)},c.prototype.hasWorker=function(){return this._worker!=null},c.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},c.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},c.prototype.seek=function(o){this._worker?this._worker.postMessage({cmd:"seek",param:o}):this._controller.seek(o)},c.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},c.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},c.prototype._onInitSegment=function(o,t){var v=this;Promise.resolve().then(function(){v._emitter.emit(m.default.INIT_SEGMENT,o,t)})},c.prototype._onMediaSegment=function(o,t){var v=this;Promise.resolve().then(function(){v._emitter.emit(m.default.MEDIA_SEGMENT,o,t)})},c.prototype._onLoadingComplete=function(){var o=this;Promise.resolve().then(function(){o._emitter.emit(m.default.LOADING_COMPLETE)})},c.prototype._onRecoveredEarlyEof=function(){var o=this;Promise.resolve().then(function(){o._emitter.emit(m.default.RECOVERED_EARLY_EOF)})},c.prototype._onMediaInfo=function(o){var t=this;Promise.resolve().then(function(){t._emitter.emit(m.default.MEDIA_INFO,o)})},c.prototype._onMetaDataArrived=function(o){var t=this;Promise.resolve().then(function(){t._emitter.emit(m.default.METADATA_ARRIVED,o)})},c.prototype._onScriptDataArrived=function(o){var t=this;Promise.resolve().then(function(){t._emitter.emit(m.default.SCRIPTDATA_ARRIVED,o)})},c.prototype._onStatisticsInfo=function(o){var t=this;Promise.resolve().then(function(){t._emitter.emit(m.default.STATISTICS_INFO,o)})},c.prototype._onIOError=function(o,t){var v=this;Promise.resolve().then(function(){v._emitter.emit(m.default.IO_ERROR,o,t)})},c.prototype._onDemuxError=function(o,t){var v=this;Promise.resolve().then(function(){v._emitter.emit(m.default.DEMUX_ERROR,o,t)})},c.prototype._onRecommendSeekpoint=function(o){var t=this;Promise.resolve().then(function(){t._emitter.emit(m.default.RECOMMEND_SEEKPOINT,o)})},c.prototype._onLoggingConfigChanged=function(o){this._worker&&this._worker.postMessage({cmd:"logging_config",param:o})},c.prototype._onWorkerMessage=function(o){var t=o.data,v=t.data;if(t.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(t.msg){case m.default.INIT_SEGMENT:case m.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,v.type,v.data);break;case m.default.LOADING_COMPLETE:case m.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case m.default.MEDIA_INFO:Object.setPrototypeOf(v,d.default.prototype),this._emitter.emit(t.msg,v);break;case m.default.METADATA_ARRIVED:case m.default.SCRIPTDATA_ARRIVED:case m.default.STATISTICS_INFO:this._emitter.emit(t.msg,v);break;case m.default.IO_ERROR:case m.default.DEMUX_ERROR:this._emitter.emit(t.msg,v.type,v.info);break;case m.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,v);break;case"logcat_callback":p.default.emitter.emit("log",v.type,v.logcat);break}},c}();_.default=n},"./src/core/transmuxing-controller.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),p=f("./src/core/media-info.js"),s=f("./src/demux/flv-demuxer.js"),h=f("./src/remux/mp4-remuxer.js"),m=f("./src/demux/demux-errors.js"),d=f("./src/io/io-controller.js"),n=f("./src/core/transmuxing-events.js"),c=function(){function o(t,v){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=v,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),typeof t.cors!="boolean"&&(t.cors=!0),typeof t.withCredentials!="boolean"&&(t.withCredentials=!1),this._mediaDataSource=t,this._currentSegmentIndex=0;var S=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=S,S+=A.duration,A.cors=t.cors,A.withCredentials=t.withCredentials,v.referrerPolicy&&(A.referrerPolicy=v.referrerPolicy)}),!isNaN(S)&&this._mediaDataSource.duration!==S&&(this._mediaDataSource.duration=S),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return o.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},o.prototype.on=function(t,v){this._emitter.addListener(t,v)},o.prototype.off=function(t,v){this._emitter.removeListener(t,v)},o.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},o.prototype._loadSegment=function(t,v){this._currentSegmentIndex=t;var S=this._mediaDataSource.segments[t],A=this._ioctl=new d.default(S,this._config,t);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),v?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(v)},o.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},o.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},o.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},o.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},o.prototype.seek=function(t){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var v=this._searchSegmentIndexContains(t);if(v===this._currentSegmentIndex){var S=this._mediaInfo.segments[v];if(S==null)this._pendingSeekTime=t;else{var A=S.getNearestKeyframe(t);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var C=this._mediaInfo.segments[v];if(C==null)this._pendingSeekTime=t,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(v);else{var A=C.getNearestKeyframe(t);this._internalAbort(),this._remuxer.seek(t),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[v].timestampBase,this._loadSegment(v,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(v)}}this._enableStatisticsReporter()}},o.prototype._searchSegmentIndexContains=function(t){for(var v=this._mediaDataSource.segments,S=v.length-1,A=0;A<v.length;A++)if(t<v[A].timestampBase){S=A-1;break}return S},o.prototype._onInitChunkArrival=function(t,v){var S=this,A=null,C=0;if(v>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,C=this._demuxer.parseChunks(t,v);else if((A=s.default.probe(t)).match){this._demuxer=new s.default(A,this._config),this._remuxer||(this._remuxer=new h.default(this._config));var R=this._mediaDataSource;R.duration!=null&&!isNaN(R.duration)&&(this._demuxer.overridedDuration=R.duration),typeof R.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=R.hasAudio),typeof R.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=R.hasVideo),this._demuxer.timestampBase=R.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),C=this._demuxer.parseChunks(t,v)}else A=null,a.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){S._internalAbort()}),this._emitter.emit(n.default.DEMUX_ERROR,m.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),C=0;return C},o.prototype._onMediaInfo=function(t){var v=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},t),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var S=Object.assign({},t);Object.setPrototypeOf(S,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=S,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=v._pendingSeekTime;v._pendingSeekTime=null,v.seek(A)})},o.prototype._onMetaDataArrived=function(t){this._emitter.emit(n.default.METADATA_ARRIVED,t)},o.prototype._onScriptDataArrived=function(t){this._emitter.emit(n.default.SCRIPTDATA_ARRIVED,t)},o.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},o.prototype._onIOComplete=function(t){var v=t,S=v+1;S<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(S)):(this._remuxer.flushStashedSamples(),this._emitter.emit(n.default.LOADING_COMPLETE),this._disableStatisticsReporter())},o.prototype._onIORedirect=function(t){var v=this._ioctl.extraData;this._mediaDataSource.segments[v].redirectedURL=t},o.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(n.default.RECOVERED_EARLY_EOF)},o.prototype._onIOException=function(t,v){a.default.e(this.TAG,"IOException: type = "+t+", code = "+v.code+", msg = "+v.msg),this._emitter.emit(n.default.IO_ERROR,t,v),this._disableStatisticsReporter()},o.prototype._onDemuxException=function(t,v){a.default.e(this.TAG,"DemuxException: type = "+t+", info = "+v),this._emitter.emit(n.default.DEMUX_ERROR,t,v)},o.prototype._onRemuxerInitSegmentArrival=function(t,v){this._emitter.emit(n.default.INIT_SEGMENT,t,v)},o.prototype._onRemuxerMediaSegmentArrival=function(t,v){if(this._pendingSeekTime==null&&(this._emitter.emit(n.default.MEDIA_SEGMENT,t,v),this._pendingResolveSeekPoint!=null&&t==="video")){var S=v.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,l.default.safari&&S.length>0&&S[0].originalDts===A&&(A=S[0].pts),this._emitter.emit(n.default.RECOMMEND_SEEKPOINT,A)}},o.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},o.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},o.prototype._reportSegmentMediaInfo=function(t){var v=this._mediaInfo.segments[t],S=Object.assign({},v);S.duration=this._mediaInfo.duration,S.segmentCount=this._mediaInfo.segmentCount,delete S.segments,delete S.keyframesIndex,this._emitter.emit(n.default.MEDIA_INFO,S)},o.prototype._reportStatisticsInfo=function(){var t={};t.url=this._ioctl.currentURL,t.hasRedirect=this._ioctl.hasRedirect,t.hasRedirect&&(t.redirectedURL=this._ioctl.currentRedirectedURL),t.speed=this._ioctl.currentSpeed,t.loaderType=this._ioctl.loaderType,t.currentSegmentIndex=this._currentSegmentIndex,t.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(n.default.STATISTICS_INFO,t)},o}();_.default=c},"./src/core/transmuxing-events.js":function(E,_,f){f.r(_);var y={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};_.default=y},"./src/core/transmuxing-worker.js":function(E,_,f){f.r(_);var y=f("./src/utils/logging-control.js"),u=f("./src/utils/polyfill.js"),a=f("./src/core/transmuxing-controller.js"),l=f("./src/core/transmuxing-events.js"),p=function(s){var h=null,m=w.bind(this);u.default.install(),s.addEventListener("message",function(O){switch(O.data.cmd){case"init":h=new a.default(O.data.param[0],O.data.param[1]),h.on(l.default.IO_ERROR,C.bind(this)),h.on(l.default.DEMUX_ERROR,R.bind(this)),h.on(l.default.INIT_SEGMENT,d.bind(this)),h.on(l.default.MEDIA_SEGMENT,n.bind(this)),h.on(l.default.LOADING_COMPLETE,c.bind(this)),h.on(l.default.RECOVERED_EARLY_EOF,o.bind(this)),h.on(l.default.MEDIA_INFO,t.bind(this)),h.on(l.default.METADATA_ARRIVED,v.bind(this)),h.on(l.default.SCRIPTDATA_ARRIVED,S.bind(this)),h.on(l.default.STATISTICS_INFO,A.bind(this)),h.on(l.default.RECOMMEND_SEEKPOINT,L.bind(this));break;case"destroy":h&&(h.destroy(),h=null),s.postMessage({msg:"destroyed"});break;case"start":h.start();break;case"stop":h.stop();break;case"seek":h.seek(O.data.param);break;case"pause":h.pause();break;case"resume":h.resume();break;case"logging_config":{var P=O.data.param;y.default.applyConfig(P),P.enableCallback===!0?y.default.addLogListener(m):y.default.removeLogListener(m);break}}});function d(O,P){var M={msg:l.default.INIT_SEGMENT,data:{type:O,data:P}};s.postMessage(M,[P.data])}function n(O,P){var M={msg:l.default.MEDIA_SEGMENT,data:{type:O,data:P}};s.postMessage(M,[P.data])}function c(){var O={msg:l.default.LOADING_COMPLETE};s.postMessage(O)}function o(){var O={msg:l.default.RECOVERED_EARLY_EOF};s.postMessage(O)}function t(O){var P={msg:l.default.MEDIA_INFO,data:O};s.postMessage(P)}function v(O){var P={msg:l.default.METADATA_ARRIVED,data:O};s.postMessage(P)}function S(O){var P={msg:l.default.SCRIPTDATA_ARRIVED,data:O};s.postMessage(P)}function A(O){var P={msg:l.default.STATISTICS_INFO,data:O};s.postMessage(P)}function C(O,P){s.postMessage({msg:l.default.IO_ERROR,data:{type:O,info:P}})}function R(O,P){s.postMessage({msg:l.default.DEMUX_ERROR,data:{type:O,info:P}})}function L(O){s.postMessage({msg:l.default.RECOMMEND_SEEKPOINT,data:O})}function w(O,P){s.postMessage({msg:"logcat_callback",data:{type:O,logcat:P}})}};_.default=p},"./src/demux/amf-parser.js":function(E,_,f){f.r(_);var y=f("./src/utils/logger.js"),u=f("./src/utils/utf8-conv.js"),a=f("./src/utils/exception.js"),l=function(){var s=new ArrayBuffer(2);return new DataView(s).setInt16(0,256,!0),new Int16Array(s)[0]===256}(),p=function(){function s(){}return s.parseScriptData=function(h,m,d){var n={};try{var c=s.parseValue(h,m,d),o=s.parseValue(h,m+c.size,d-c.size);n[c.data]=o.data}catch(t){y.default.e("AMF",t.toString())}return n},s.parseObject=function(h,m,d){if(d<3)throw new a.IllegalStateException("Data not enough when parse ScriptDataObject");var n=s.parseString(h,m,d),c=s.parseValue(h,m+n.size,d-n.size),o=c.objectEnd;return{data:{name:n.data,value:c.data},size:n.size+c.size,objectEnd:o}},s.parseVariable=function(h,m,d){return s.parseObject(h,m,d)},s.parseString=function(h,m,d){if(d<2)throw new a.IllegalStateException("Data not enough when parse String");var n=new DataView(h,m,d),c=n.getUint16(0,!l),o;return c>0?o=(0,u.default)(new Uint8Array(h,m+2,c)):o="",{data:o,size:2+c}},s.parseLongString=function(h,m,d){if(d<4)throw new a.IllegalStateException("Data not enough when parse LongString");var n=new DataView(h,m,d),c=n.getUint32(0,!l),o;return c>0?o=(0,u.default)(new Uint8Array(h,m+4,c)):o="",{data:o,size:4+c}},s.parseDate=function(h,m,d){if(d<10)throw new a.IllegalStateException("Data size invalid when parse Date");var n=new DataView(h,m,d),c=n.getFloat64(0,!l),o=n.getInt16(8,!l);return c+=o*60*1e3,{data:new Date(c),size:8+2}},s.parseValue=function(h,m,d){if(d<1)throw new a.IllegalStateException("Data not enough when parse Value");var n=new DataView(h,m,d),c=1,o=n.getUint8(0),t,v=!1;try{switch(o){case 0:t=n.getFloat64(1,!l),c+=8;break;case 1:{var S=n.getUint8(1);t=!!S,c+=1;break}case 2:{var A=s.parseString(h,m+1,d-1);t=A.data,c+=A.size;break}case 3:{t={};var C=0;for((n.getUint32(d-4,!l)&16777215)==9&&(C=3);c<d-4;){var R=s.parseObject(h,m+c,d-c-C);if(R.objectEnd)break;t[R.data.name]=R.data.value,c+=R.size}if(c<=d-3){var L=n.getUint32(c-1,!l)&16777215;L===9&&(c+=3)}break}case 8:{t={},c+=4;var C=0;for((n.getUint32(d-4,!l)&16777215)==9&&(C=3);c<d-8;){var w=s.parseVariable(h,m+c,d-c-C);if(w.objectEnd)break;t[w.data.name]=w.data.value,c+=w.size}if(c<=d-3){var L=n.getUint32(c-1,!l)&16777215;L===9&&(c+=3)}break}case 9:t=void 0,c=1,v=!0;break;case 10:{t=[];var O=n.getUint32(1,!l);c+=4;for(var P=0;P<O;P++){var M=s.parseValue(h,m+c,d-c);t.push(M.data),c+=M.size}break}case 11:{var D=s.parseDate(h,m+1,d-1);t=D.data,c+=D.size;break}case 12:{var k=s.parseString(h,m+1,d-1);t=k.data,c+=k.size;break}default:c=d,y.default.w("AMF","Unsupported AMF value type "+o)}}catch(G){y.default.e("AMF",G.toString())}return{data:t,size:c,objectEnd:v}},s}();_.default=p},"./src/demux/demux-errors.js":function(E,_,f){f.r(_);var y={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};_.default=y},"./src/demux/exp-golomb.js":function(E,_,f){f.r(_);var y=f("./src/utils/exception.js"),u=function(){function a(l){this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=l.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return a.prototype.destroy=function(){this._buffer=null},a.prototype._fillCurrentWord=function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new y.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,l),s=new Uint8Array(4);s.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(s.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},a.prototype.readBits=function(l){if(l>32)throw new y.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var p=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,p}var s=this._current_word_bits_left?this._current_word:0;s=s>>>32-this._current_word_bits_left;var h=l-this._current_word_bits_left;this._fillCurrentWord();var m=Math.min(h,this._current_word_bits_left),d=this._current_word>>>32-m;return this._current_word<<=m,this._current_word_bits_left-=m,s=s<<m|d,s},a.prototype.readBool=function(){return this.readBits(1)===1},a.prototype.readByte=function(){return this.readBits(8)},a.prototype._skipLeadingZero=function(){var l;for(l=0;l<this._current_word_bits_left;l++)if((this._current_word&2147483648>>>l)!=0)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()},a.prototype.readUEG=function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1},a.prototype.readSEG=function(){var l=this.readUEG();return l&1?l+1>>>1:-1*(l>>>1)},a}();_.default=u},"./src/demux/flv-demuxer.js":function(E,_,f){f.r(_);var y=f("./src/utils/logger.js"),u=f("./src/demux/amf-parser.js"),a=f("./src/demux/sps-parser.js"),l=f("./src/demux/demux-errors.js"),p=f("./src/core/media-info.js"),s=f("./src/utils/exception.js");function h(d,n){return d[n]<<24|d[n+1]<<16|d[n+2]<<8|d[n+3]}var m=function(){function d(n,c){this.TAG="FLVDemuxer",this._config=c,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=n.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=n.hasAudioTrack,this._hasVideo=n.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var o=new ArrayBuffer(2);return new DataView(o).setInt16(0,256,!0),new Int16Array(o)[0]===256}()}return d.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},d.probe=function(n){var c=new Uint8Array(n),o={match:!1};if(c[0]!==70||c[1]!==76||c[2]!==86||c[3]!==1)return o;var t=(c[4]&4)>>>2!=0,v=(c[4]&1)!=0,S=h(c,5);return S<9?o:{match:!0,consumed:S,dataOffset:S,hasAudioTrack:t,hasVideoTrack:v}},d.prototype.bindDataSource=function(n){return n.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(d.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(n){this._onTrackMetadata=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(n){this._onMediaInfo=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(n){this._onMetaDataArrived=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(n){this._onScriptDataArrived=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onError",{get:function(){return this._onError},set:function(n){this._onError=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(n){this._onDataAvailable=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(n){this._timestampBase=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overridedDuration",{get:function(){return this._duration},set:function(n){this._durationOverrided=!0,this._duration=n,this._mediaInfo.duration=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overridedHasAudio",{set:function(n){this._hasAudioFlagOverrided=!0,this._hasAudio=n,this._mediaInfo.hasAudio=n},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overridedHasVideo",{set:function(n){this._hasVideoFlagOverrided=!0,this._hasVideo=n,this._mediaInfo.hasVideo=n},enumerable:!1,configurable:!0}),d.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},d.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},d.prototype.parseChunks=function(n,c){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new s.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var o=0,t=this._littleEndian;if(c===0)if(n.byteLength>13){var v=d.probe(n);o=v.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,c+o!==this._dataOffset&&y.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var S=new DataView(n,o),A=S.getUint32(0,!t);A!==0&&y.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),o+=4}for(;o<n.byteLength;){this._dispatch=!0;var S=new DataView(n,o);if(o+11+4>n.byteLength)break;var C=S.getUint8(0),R=S.getUint32(0,!t)&16777215;if(o+11+R+4>n.byteLength)break;if(C!==8&&C!==9&&C!==18){y.default.w(this.TAG,"Unsupported tag type "+C+", skipped"),o+=11+R+4;continue}var L=S.getUint8(4),w=S.getUint8(5),O=S.getUint8(6),P=S.getUint8(7),M=O|w<<8|L<<16|P<<24,D=S.getUint32(7,!t)&16777215;D!==0&&y.default.w(this.TAG,"Meet tag which has StreamID != 0!");var k=o+11;switch(C){case 8:this._parseAudioData(n,k,R,M);break;case 9:this._parseVideoData(n,k,R,M,c+o);break;case 18:this._parseScriptData(n,k,R);break}var G=S.getUint32(11+R,!t);G!==11+R&&y.default.w(this.TAG,"Invalid PrevTagSize "+G),o+=11+R+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),o},d.prototype._parseScriptData=function(n,c,o){var t=u.default.parseScriptData(n,c,o);if(t.hasOwnProperty("onMetaData")){if(t.onMetaData==null||typeof t.onMetaData!="object"){y.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&y.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=t;var v=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},v)),typeof v.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=v.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof v.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=v.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof v.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=v.audiodatarate),typeof v.videodatarate=="number"&&(this._mediaInfo.videoDataRate=v.videodatarate),typeof v.width=="number"&&(this._mediaInfo.width=v.width),typeof v.height=="number"&&(this._mediaInfo.height=v.height),typeof v.duration=="number"){if(!this._durationOverrided){var S=Math.floor(v.duration*this._timescale);this._duration=S,this._mediaInfo.duration=S}}else this._mediaInfo.duration=0;if(typeof v.framerate=="number"){var A=Math.floor(v.framerate*1e3);if(A>0){var C=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=C,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=C}}if(typeof v.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var R=v.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(R),v.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=v,y.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(t).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},t))},d.prototype._parseKeyframesIndex=function(n){for(var c=[],o=[],t=1;t<n.times.length;t++){var v=this._timestampBase+Math.floor(n.times[t]*1e3);c.push(v),o.push(n.filepositions[t])}return{times:c,filepositions:o}},d.prototype._parseAudioData=function(n,c,o,t){if(o<=1){y.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var v=new DataView(n,c,o),S=v.getUint8(0),A=S>>>4;if(A!==2&&A!==10){this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var C=0,R=(S&12)>>>2;if(R>=0&&R<=4)C=this._flvSoundRateTable[R];else{this._onError(l.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+R);return}var L=S&1,w=this._audioMetadata,O=this._audioTrack;if(w||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),w=this._audioMetadata={},w.type="audio",w.id=O.id,w.timescale=this._timescale,w.duration=this._duration,w.audioSampleRate=C,w.channelCount=L===0?1:2),A===10){var P=this._parseAACAudioData(n,c+1,o-1);if(P==null)return;if(P.packetType===0){w.config&&y.default.w(this.TAG,"Found another AudioSpecificConfig!");var M=P.data;w.audioSampleRate=M.samplingRate,w.channelCount=M.channelCount,w.codec=M.codec,w.originalCodec=M.originalCodec,w.config=M.config,w.refSampleDuration=1024/w.audioSampleRate*w.timescale,y.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",w);var D=this._mediaInfo;D.audioCodec=w.originalCodec,D.audioSampleRate=w.audioSampleRate,D.audioChannelCount=w.channelCount,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}else if(P.packetType===1){var k=this._timestampBase+t,G={unit:P.data,length:P.data.byteLength,dts:k,pts:k};O.samples.push(G),O.length+=P.data.length}else y.default.e(this.TAG,"Flv: Unsupported AAC data type "+P.packetType)}else if(A===2){if(!w.codec){var M=this._parseMP3AudioData(n,c+1,o-1,!0);if(M==null)return;w.audioSampleRate=M.samplingRate,w.channelCount=M.channelCount,w.codec=M.codec,w.originalCodec=M.originalCodec,w.refSampleDuration=1152/w.audioSampleRate*w.timescale,y.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",w);var D=this._mediaInfo;D.audioCodec=w.codec,D.audioSampleRate=w.audioSampleRate,D.audioChannelCount=w.channelCount,D.audioDataRate=M.bitRate,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}var K=this._parseMP3AudioData(n,c+1,o-1,!1);if(K==null)return;var k=this._timestampBase+t,W={unit:K,length:K.byteLength,dts:k,pts:k};O.samples.push(W),O.length+=K.length}}},d.prototype._parseAACAudioData=function(n,c,o){if(o<=1){y.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var t={},v=new Uint8Array(n,c,o);return t.packetType=v[0],v[0]===0?t.data=this._parseAACAudioSpecificConfig(n,c+1,o-1):t.data=v.subarray(1),t},d.prototype._parseAACAudioSpecificConfig=function(n,c,o){var t=new Uint8Array(n,c,o),v=null,S=0,A=0,C=0,R=null;if(S=A=t[0]>>>3,C=(t[0]&7)<<1|t[1]>>>7,C<0||C>=this._mpegSamplingRates.length){this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var L=this._mpegSamplingRates[C],w=(t[1]&120)>>>3;if(w<0||w>=8){this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}S===5&&(R=(t[1]&7)<<1|t[2]>>>7,(t[2]&124)>>>2);var O=self.navigator.userAgent.toLowerCase();return O.indexOf("firefox")!==-1?C>=6?(S=5,v=new Array(4),R=C-3):(S=2,v=new Array(2),R=C):O.indexOf("android")!==-1?(S=2,v=new Array(2),R=C):(S=5,R=C,v=new Array(4),C>=6?R=C-3:w===1&&(S=2,v=new Array(2),R=C)),v[0]=S<<3,v[0]|=(C&15)>>>1,v[1]=(C&15)<<7,v[1]|=(w&15)<<3,S===5&&(v[1]|=(R&15)>>>1,v[2]=(R&1)<<7,v[2]|=2<<2,v[3]=0),{config:v,samplingRate:L,channelCount:w,codec:"mp4a.40."+S,originalCodec:"mp4a.40."+A}},d.prototype._parseMP3AudioData=function(n,c,o,t){if(o<4){y.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var v=new Uint8Array(n,c,o),S=null;if(t){if(v[0]!==255)return;var A=v[1]>>>3&3,C=(v[1]&6)>>1,R=(v[2]&240)>>>4,L=(v[2]&12)>>>2,w=v[3]>>>6&3,O=w!==3?2:1,P=0,M=0,D="mp3";switch(A){case 0:P=this._mpegAudioV25SampleRateTable[L];break;case 2:P=this._mpegAudioV20SampleRateTable[L];break;case 3:P=this._mpegAudioV10SampleRateTable[L];break}switch(C){case 1:R<this._mpegAudioL3BitRateTable.length&&(M=this._mpegAudioL3BitRateTable[R]);break;case 2:R<this._mpegAudioL2BitRateTable.length&&(M=this._mpegAudioL2BitRateTable[R]);break;case 3:R<this._mpegAudioL1BitRateTable.length&&(M=this._mpegAudioL1BitRateTable[R]);break}S={bitRate:M,samplingRate:P,channelCount:O,codec:D,originalCodec:D}}else S=v;return S},d.prototype._parseVideoData=function(n,c,o,t,v){if(o<=1){y.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var S=new Uint8Array(n,c,o)[0],A=(S&240)>>>4,C=S&15;if(C!==7){this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+C);return}this._parseAVCVideoPacket(n,c+1,o-1,t,v,A)}},d.prototype._parseAVCVideoPacket=function(n,c,o,t,v,S){if(o<4){y.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,C=new DataView(n,c,o),R=C.getUint8(0),L=C.getUint32(0,!A)&16777215,w=L<<8>>8;if(R===0)this._parseAVCDecoderConfigurationRecord(n,c+4,o-4);else if(R===1)this._parseAVCVideoData(n,c+4,o-4,t,v,S,w);else if(R!==2){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid video packet type "+R);return}},d.prototype._parseAVCDecoderConfigurationRecord=function(n,c,o){if(o<7){y.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var t=this._videoMetadata,v=this._videoTrack,S=this._littleEndian,A=new DataView(n,c,o);t?typeof t.avcc!="undefined"&&y.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),t=this._videoMetadata={},t.type="video",t.id=v.id,t.timescale=this._timescale,t.duration=this._duration);var C=A.getUint8(0),R=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),C!==1||R===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(l.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var L=A.getUint8(5)&31;if(L===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else L>1&&y.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+L);for(var w=6,O=0;O<L;O++){var P=A.getUint16(w,!S);if(w+=2,P!==0){var M=new Uint8Array(n,c+w,P);w+=P;var D=a.default.parseSPS(M);if(O===0){t.codecWidth=D.codec_size.width,t.codecHeight=D.codec_size.height,t.presentWidth=D.present_size.width,t.presentHeight=D.present_size.height,t.profile=D.profile_string,t.level=D.level_string,t.bitDepth=D.bit_depth,t.chromaFormat=D.chroma_format,t.sarRatio=D.sar_ratio,t.frameRate=D.frame_rate,(D.frame_rate.fixed===!1||D.frame_rate.fps_num===0||D.frame_rate.fps_den===0)&&(t.frameRate=this._referenceFrameRate);var k=t.frameRate.fps_den,G=t.frameRate.fps_num;t.refSampleDuration=t.timescale*(k/G);for(var K=M.subarray(1,4),W="avc1.",Z=0;Z<3;Z++){var X=K[Z].toString(16);X.length<2&&(X="0"+X),W+=X}t.codec=W;var V=this._mediaInfo;V.width=t.codecWidth,V.height=t.codecHeight,V.fps=t.frameRate.fps,V.profile=t.profile,V.level=t.level,V.refFrames=D.ref_frames,V.chromaFormat=D.chroma_format_string,V.sarNum=t.sarRatio.width,V.sarDen=t.sarRatio.height,V.videoCodec=W,V.hasAudio?V.audioCodec!=null&&(V.mimeType='video/x-flv; codecs="'+V.videoCodec+","+V.audioCodec+'"'):V.mimeType='video/x-flv; codecs="'+V.videoCodec+'"',V.isComplete()&&this._onMediaInfo(V)}}}var Q=A.getUint8(w);if(Q===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else Q>1&&y.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+Q);w++;for(var O=0;O<Q;O++){var P=A.getUint16(w,!S);w+=2,P!==0&&(w+=P)}t.avcc=new Uint8Array(o),t.avcc.set(new Uint8Array(n,c,o),0),y.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",t)},d.prototype._parseAVCVideoData=function(n,c,o,t,v,S,A){for(var C=this._littleEndian,R=new DataView(n,c,o),L=[],w=0,O=0,P=this._naluLengthSize,M=this._timestampBase+t,D=S===1;O<o;){if(O+4>=o){y.default.w(this.TAG,"Malformed Nalu near timestamp "+M+", offset = "+O+", dataSize = "+o);break}var k=R.getUint32(O,!C);if(P===3&&(k>>>=8),k>o-P){y.default.w(this.TAG,"Malformed Nalus near timestamp "+M+", NaluSize > DataSize!");return}var G=R.getUint8(O+P)&31;G===5&&(D=!0);var K=new Uint8Array(n,c+O,P+k),W={type:G,data:K};L.push(W),w+=K.byteLength,O+=P+k}if(L.length){var Z=this._videoTrack,X={units:L,length:w,isKeyframe:D,dts:M,cts:A,pts:M+A};D&&(X.fileposition=v),Z.samples.push(X),Z.length+=w}},d}();_.default=m},"./src/demux/sps-parser.js":function(E,_,f){f.r(_);var y=f("./src/demux/exp-golomb.js"),u=function(){function a(){}return a._ebsp2rbsp=function(l){for(var p=l,s=p.byteLength,h=new Uint8Array(s),m=0,d=0;d<s;d++)d>=2&&p[d]===3&&p[d-1]===0&&p[d-2]===0||(h[m]=p[d],m++);return new Uint8Array(h.buffer,0,m)},a.parseSPS=function(l){var p=a._ebsp2rbsp(l),s=new y.default(p);s.readByte();var h=s.readByte();s.readByte();var m=s.readByte();s.readUEG();var d=a.getProfileString(h),n=a.getLevelString(m),c=1,o=420,t=[0,420,422,444],v=8;if((h===100||h===110||h===122||h===244||h===44||h===83||h===86||h===118||h===128||h===138||h===144)&&(c=s.readUEG(),c===3&&s.readBits(1),c<=3&&(o=t[c]),v=s.readUEG()+8,s.readUEG(),s.readBits(1),s.readBool()))for(var S=c!==3?8:12,A=0;A<S;A++)s.readBool()&&(A<6?a._skipScalingList(s,16):a._skipScalingList(s,64));s.readUEG();var C=s.readUEG();if(C===0)s.readUEG();else if(C===1){s.readBits(1),s.readSEG(),s.readSEG();for(var R=s.readUEG(),A=0;A<R;A++)s.readSEG()}var L=s.readUEG();s.readBits(1);var w=s.readUEG(),O=s.readUEG(),P=s.readBits(1);P===0&&s.readBits(1),s.readBits(1);var M=0,D=0,k=0,G=0,K=s.readBool();K&&(M=s.readUEG(),D=s.readUEG(),k=s.readUEG(),G=s.readUEG());var W=1,Z=1,X=0,V=!0,Q=0,Ae=0,se=s.readBool();if(se){if(s.readBool()){var ie=s.readByte(),pe=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],le=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];ie>0&&ie<16?(W=pe[ie-1],Z=le[ie-1]):ie===255&&(W=s.readByte()<<8|s.readByte(),Z=s.readByte()<<8|s.readByte())}if(s.readBool()&&s.readBool(),s.readBool()&&(s.readBits(4),s.readBool()&&s.readBits(24)),s.readBool()&&(s.readUEG(),s.readUEG()),s.readBool()){var ue=s.readBits(32),Ee=s.readBits(32);V=s.readBool(),Q=Ee,Ae=ue*2,X=Q/Ae}}var J=1;(W!==1||Z!==1)&&(J=W/Z);var N=0,fe=0;if(c===0)N=1,fe=2-P;else{var j=c===3?1:2,q=c===1?2:1;N=j,fe=q*(2-P)}var te=(w+1)*16,ce=(2-P)*((O+1)*16);te-=(M+D)*N,ce-=(k+G)*fe;var we=Math.ceil(te*J);return s.destroy(),s=null,{profile_string:d,level_string:n,bit_depth:v,ref_frames:L,chroma_format:o,chroma_format_string:a.getChromaFormatString(o),frame_rate:{fixed:V,fps:X,fps_den:Ae,fps_num:Q},sar_ratio:{width:W,height:Z},codec_size:{width:te,height:ce},present_size:{width:we,height:ce}}},a._skipScalingList=function(l,p){for(var s=8,h=8,m=0,d=0;d<p;d++)h!==0&&(m=l.readSEG(),h=(s+m+256)%256),s=h===0?s:h},a.getProfileString=function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},a.getLevelString=function(l){return(l/10).toFixed(1)},a.getChromaFormatString=function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},a}();_.default=u},"./src/flv.js":function(E,_,f){f.r(_);var y=f("./src/utils/polyfill.js"),u=f("./src/core/features.js"),a=f("./src/io/loader.js"),l=f("./src/player/flv-player.js"),p=f("./src/player/native-player.js"),s=f("./src/player/player-events.js"),h=f("./src/player/player-errors.js"),m=f("./src/utils/logging-control.js"),d=f("./src/utils/exception.js");y.default.install();function n(v,S){var A=v;if(A==null||typeof A!="object")throw new d.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new d.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new l.default(A,S);default:return new p.default(A,S)}}function c(){return u.default.supportMSEH264Playback()}function o(){return u.default.getFeatureList()}var t={};t.createPlayer=n,t.isSupported=c,t.getFeatureList=o,t.BaseLoader=a.BaseLoader,t.LoaderStatus=a.LoaderStatus,t.LoaderErrors=a.LoaderErrors,t.Events=s.default,t.ErrorTypes=h.ErrorTypes,t.ErrorDetails=h.ErrorDetails,t.FlvPlayer=l.default,t.NativePlayer=p.default,t.LoggingControl=m.default,Object.defineProperty(t,"version",{enumerable:!0,get:function(){return"1.6.2"}}),_.default=t},"./src/index.js":function(E,_,f){E.exports=f("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(E,_,f){f.r(_);var y=f("./src/utils/browser.js"),u=f("./src/io/loader.js"),a=f("./src/utils/exception.js"),l=function(){var s=function(h,m){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(d[c]=n[c])},s(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");s(h,m);function d(){this.constructor=h}h.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}}(),p=function(s){l(h,s);function h(m,d){var n=s.call(this,"fetch-stream-loader")||this;return n.TAG="FetchStreamLoader",n._seekHandler=m,n._config=d,n._needStash=!0,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return h.isSupported=function(){try{var m=y.default.msedge&&y.default.version.minor>=15048,d=y.default.msedge?m:!0;return self.fetch&&self.ReadableStream&&d}catch{return!1}},h.prototype.destroy=function(){this.isWorking()&&this.abort(),s.prototype.destroy.call(this)},h.prototype.open=function(m,d){var n=this;this._dataSource=m,this._range=d;var c=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(c=m.redirectedURL);var o=this._seekHandler.getConfig(c,d),t=new self.Headers;if(typeof o.headers=="object"){var v=o.headers;for(var S in v)v.hasOwnProperty(S)&&t.append(S,v[S])}var A={method:"GET",headers:t,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var S in this._config.headers)t.append(S,this._config.headers[S]);m.cors===!1&&(A.mode="same-origin"),m.withCredentials&&(A.credentials="include"),m.referrerPolicy&&(A.referrerPolicy=m.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(o.url,A).then(function(C){if(n._requestAbort){n._status=u.LoaderStatus.kIdle,C.body.cancel();return}if(C.ok&&C.status>=200&&C.status<=299){if(C.url!==o.url&&n._onURLRedirect){var R=n._seekHandler.removeURLParameters(C.url);n._onURLRedirect(R)}var L=C.headers.get("Content-Length");return L!=null&&(n._contentLength=parseInt(L),n._contentLength!==0&&n._onContentLengthKnown&&n._onContentLengthKnown(n._contentLength)),n._pump.call(n,C.body.getReader())}else if(n._status=u.LoaderStatus.kError,n._onError)n._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:C.status,msg:C.statusText});else throw new a.RuntimeException("FetchStreamLoader: Http code invalid, "+C.status+" "+C.statusText)}).catch(function(C){if(!(n._abortController&&n._abortController.signal.aborted))if(n._status=u.LoaderStatus.kError,n._onError)n._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:C.message});else throw C})},h.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!y.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},h.prototype._pump=function(m){var d=this;return m.read().then(function(n){if(n.done)if(d._contentLength!==null&&d._receivedLength<d._contentLength){d._status=u.LoaderStatus.kError;var c=u.LoaderErrors.EARLY_EOF,o={code:-1,msg:"Fetch stream meet Early-EOF"};if(d._onError)d._onError(c,o);else throw new a.RuntimeException(o.msg)}else d._status=u.LoaderStatus.kComplete,d._onComplete&&d._onComplete(d._range.from,d._range.from+d._receivedLength-1);else{if(d._abortController&&d._abortController.signal.aborted){d._status=u.LoaderStatus.kComplete;return}else if(d._requestAbort===!0)return d._status=u.LoaderStatus.kComplete,m.cancel();d._status=u.LoaderStatus.kBuffering;var t=n.value.buffer,v=d._range.from+d._receivedLength;d._receivedLength+=t.byteLength,d._onDataArrival&&d._onDataArrival(t,v,d._receivedLength),d._pump(m)}}).catch(function(n){if(d._abortController&&d._abortController.signal.aborted){d._status=u.LoaderStatus.kComplete;return}if(!(n.code===11&&y.default.msedge)){d._status=u.LoaderStatus.kError;var c=0,o=null;if((n.code===19||n.message==="network error")&&(d._contentLength===null||d._contentLength!==null&&d._receivedLength<d._contentLength)?(c=u.LoaderErrors.EARLY_EOF,o={code:n.code,msg:"Fetch stream meet Early-EOF"}):(c=u.LoaderErrors.EXCEPTION,o={code:n.code,msg:n.message}),d._onError)d._onError(c,o);else throw new a.RuntimeException(o.msg)}})},h}(u.BaseLoader);_.default=p},"./src/io/io-controller.js":function(E,_,f){f.r(_);var y=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),a=f("./src/io/loader.js"),l=f("./src/io/fetch-stream-loader.js"),p=f("./src/io/xhr-moz-chunked-loader.js"),s=f("./src/io/xhr-range-loader.js"),h=f("./src/io/websocket-loader.js"),m=f("./src/io/range-seek-handler.js"),d=f("./src/io/param-seek-handler.js"),n=f("./src/utils/exception.js"),c=function(){function o(t,v,S){this.TAG="IOController",this._config=v,this._extraData=S,this._stashInitialSize=1024*384,v.stashInitialSize!=null&&v.stashInitialSize>0&&(this._stashInitialSize=v.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,v.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return o.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},o.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},o.prototype.isPaused=function(){return this._paused},Object.defineProperty(o.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"extraData",{get:function(){return this._extraData},set:function(t){this._extraData=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(t){this._onDataArrival=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(t){this._onSeeked=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onError",{get:function(){return this._onError},set:function(t){this._onError=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onComplete",{get:function(){return this._onComplete},set:function(t){this._onComplete=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(t){this._onRedirect=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(t){this._onRecoveredEarlyEof=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentSpeed",{get:function(){return this._loaderClass===s.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),o.prototype._selectSeekHandler=function(){var t=this._config;if(t.seekType==="range")this._seekHandler=new m.default(this._config.rangeLoadZeroStart);else if(t.seekType==="param"){var v=t.seekParamStart||"bstart",S=t.seekParamEnd||"bend";this._seekHandler=new d.default(v,S)}else if(t.seekType==="custom"){if(typeof t.customSeekHandler!="function")throw new n.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new t.customSeekHandler}else throw new n.InvalidArgumentException("Invalid seekType in config: "+t.seekType)},o.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=h.default;else if(l.default.isSupported())this._loaderClass=l.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(s.default.isSupported())this._loaderClass=s.default;else throw new n.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},o.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},o.prototype.open=function(t){this._currentRange={from:0,to:-1},t&&(this._currentRange.from=t),this._speedSampler.reset(),t||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},o.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},o.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},o.prototype.resume=function(){if(this._paused){this._paused=!1;var t=this._resumeFrom;this._resumeFrom=0,this._internalSeek(t,!0)}},o.prototype.seek=function(t){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(t,!0)},o.prototype._internalSeek=function(t,v){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(v),this._loader.destroy(),this._loader=null;var S={from:t,to:-1};this._currentRange={from:S.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,S),this._onSeeked&&this._onSeeked()},o.prototype.updateUrl=function(t){if(!t||typeof t!="string"||t.length===0)throw new n.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=t},o.prototype._expandBuffer=function(t){for(var v=this._stashSize;v+1024*1024*1<t;)v*=2;if(v+=1024*1024*1,v!==this._bufferSize){var S=new ArrayBuffer(v);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),C=new Uint8Array(S,0,v);C.set(A,0)}this._stashBuffer=S,this._bufferSize=v}},o.prototype._normalizeSpeed=function(t){var v=this._speedNormalizeList,S=v.length-1,A=0,C=0,R=S;if(t<v[0])return v[0];for(;C<=R;){if(A=C+Math.floor((R-C)/2),A===S||t>=v[A]&&t<v[A+1])return v[A];v[A]<t?C=A+1:R=A-1}},o.prototype._adjustStashSize=function(t){var v=0;this._config.isLive||t<512?v=t:t>=512&&t<=1024?v=Math.floor(t*1.5):v=t*2,v>8192&&(v=8192);var S=v*1024+1024*1024*1;this._bufferSize<S&&this._expandBuffer(S),this._stashSize=v*1024},o.prototype._dispatchChunks=function(t,v){return this._currentRange.to=v+t.byteLength-1,this._onDataArrival(t,v)},o.prototype._onURLRedirect=function(t){this._redirectedURL=t,this._onRedirect&&this._onRedirect(t)},o.prototype._onContentLengthKnown=function(t){t&&this._fullRequestFlag&&(this._totalLength=t,this._fullRequestFlag=!1)},o.prototype._onLoaderChunkArrival=function(t,v,S){if(!this._onDataArrival)throw new n.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(t.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var C=this._normalizeSpeed(A);this._speedNormalized!==C&&(this._speedNormalized=C,this._adjustStashSize(C))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=v),this._stashUsed+t.byteLength<=this._stashSize){var w=new Uint8Array(this._stashBuffer,0,this._stashSize);w.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength}else{var w=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var P=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(P,this._stashByteStart);if(R<P.byteLength){if(R>0){var O=new Uint8Array(P,R);w.set(O,0),this._stashUsed=O.byteLength,this._stashByteStart+=R}}else this._stashUsed=0,this._stashByteStart+=R;this._stashUsed+t.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+t.byteLength),w=new Uint8Array(this._stashBuffer,0,this._bufferSize)),w.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength}else{var R=this._dispatchChunks(t,v);if(R<t.byteLength){var L=t.byteLength-R;L>this._bufferSize&&(this._expandBuffer(L),w=new Uint8Array(this._stashBuffer,0,this._bufferSize)),w.set(new Uint8Array(t,R),0),this._stashUsed+=L,this._stashByteStart=v+R}}}else if(this._stashUsed===0){var R=this._dispatchChunks(t,v);if(R<t.byteLength){var L=t.byteLength-R;L>this._bufferSize&&this._expandBuffer(L);var w=new Uint8Array(this._stashBuffer,0,this._bufferSize);w.set(new Uint8Array(t,R),0),this._stashUsed+=L,this._stashByteStart=v+R}}else{this._stashUsed+t.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+t.byteLength);var w=new Uint8Array(this._stashBuffer,0,this._bufferSize);w.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength;var R=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(R<this._stashUsed&&R>0){var O=new Uint8Array(this._stashBuffer,R);w.set(O,0)}this._stashUsed-=R,this._stashByteStart+=R}}},o.prototype._flushStashBuffer=function(t){if(this._stashUsed>0){var v=this._stashBuffer.slice(0,this._stashUsed),S=this._dispatchChunks(v,this._stashByteStart),A=v.byteLength-S;if(S<v.byteLength)if(t)y.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(S>0){var C=new Uint8Array(this._stashBuffer,0,this._bufferSize),R=new Uint8Array(v,S);C.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=S}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},o.prototype._onLoaderComplete=function(t,v){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},o.prototype._onLoaderError=function(t,v){switch(y.default.e(this.TAG,"Loader error, code = "+v.code+", msg = "+v.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,t=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF),t){case a.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var S=this._currentRange.to+1;S<this._totalLength&&(y.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(S,!1));return}t=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case a.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case a.LoaderErrors.CONNECTING_TIMEOUT:case a.LoaderErrors.HTTP_STATUS_CODE_INVALID:case a.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(t,v);else throw new n.RuntimeException("IOException: "+v.msg)},o}();_.default=c},"./src/io/loader.js":function(E,_,f){f.r(_),f.d(_,{LoaderStatus:function(){return u},LoaderErrors:function(){return a},BaseLoader:function(){return l}});var y=f("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},a={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},l=function(){function p(s){this._type=s||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(s){this._onContentLengthKnown=s},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(s){this._onURLRedirect=s},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(s){this._onDataArrival=s},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(s){this._onError=s},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(s){this._onComplete=s},enumerable:!1,configurable:!0}),p.prototype.open=function(s,h){throw new y.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new y.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(E,_,f){f.r(_);var y=function(){function u(a,l){this._startName=a,this._endName=l}return u.prototype.getConfig=function(a,l){var p=a;if(l.from!==0||l.to!==-1){var s=!0;p.indexOf("?")===-1&&(p+="?",s=!1),s&&(p+="&"),p+=this._startName+"="+l.from.toString(),l.to!==-1&&(p+="&"+this._endName+"="+l.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(a){var l=a.split("?")[0],p=void 0,s=a.indexOf("?");s!==-1&&(p=a.substring(s+1));var h="";if(p!=null&&p.length>0)for(var m=p.split("&"),d=0;d<m.length;d++){var n=m[d].split("="),c=d>0;n[0]!==this._startName&&n[0]!==this._endName&&(c&&(h+="&"),h+=m[d])}return h.length===0?l:l+"?"+h},u}();_.default=y},"./src/io/range-seek-handler.js":function(E,_,f){f.r(_);var y=function(){function u(a){this._zeroStart=a||!1}return u.prototype.getConfig=function(a,l){var p={};if(l.from!==0||l.to!==-1){var s=void 0;l.to!==-1?s="bytes="+l.from.toString()+"-"+l.to.toString():s="bytes="+l.from.toString()+"-",p.Range=s}else this._zeroStart&&(p.Range="bytes=0-");return{url:a,headers:p}},u.prototype.removeURLParameters=function(a){return a},u}();_.default=y},"./src/io/speed-sampler.js":function(E,_,f){f.r(_);var y=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(a){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=a,this._totalBytes+=a):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=a,this._totalBytes+=a):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=a,this._totalBytes+=a,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var a=(this._now()-this._lastCheckpoint)/1e3;return a==0&&(a=1),this._intervalBytes/a/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var a=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/a/1024},enumerable:!1,configurable:!0}),u}();_.default=y},"./src/io/websocket-loader.js":function(E,_,f){f.r(_);var y=f("./src/io/loader.js"),u=f("./src/utils/exception.js"),a=function(){var p=function(s,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(m[n]=d[n])},p(s,h)};return function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(s,h);function m(){this.constructor=s}s.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),l=function(p){a(s,p);function s(){var h=p.call(this,"websocket-loader")||this;return h.TAG="WebSocketLoader",h._needStash=!0,h._ws=null,h._requestAbort=!1,h._receivedLength=0,h}return s.isSupported=function(){try{return typeof self.WebSocket!="undefined"}catch{return!1}},s.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},s.prototype.open=function(h){try{var m=this._ws=new self.WebSocket(h.url);m.binaryType="arraybuffer",m.onopen=this._onWebSocketOpen.bind(this),m.onclose=this._onWebSocketClose.bind(this),m.onmessage=this._onWebSocketMessage.bind(this),m.onerror=this._onWebSocketError.bind(this),this._status=y.LoaderStatus.kConnecting}catch(n){this._status=y.LoaderStatus.kError;var d={code:n.code,msg:n.message};if(this._onError)this._onError(y.LoaderErrors.EXCEPTION,d);else throw new u.RuntimeException(d.msg)}},s.prototype.abort=function(){var h=this._ws;h&&(h.readyState===0||h.readyState===1)&&(this._requestAbort=!0,h.close()),this._ws=null,this._status=y.LoaderStatus.kComplete},s.prototype._onWebSocketOpen=function(h){this._status=y.LoaderStatus.kBuffering},s.prototype._onWebSocketClose=function(h){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=y.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},s.prototype._onWebSocketMessage=function(h){var m=this;if(h.data instanceof ArrayBuffer)this._dispatchArrayBuffer(h.data);else if(h.data instanceof Blob){var d=new FileReader;d.onload=function(){m._dispatchArrayBuffer(d.result)},d.readAsArrayBuffer(h.data)}else{this._status=y.LoaderStatus.kError;var n={code:-1,msg:"Unsupported WebSocket message type: "+h.data.constructor.name};if(this._onError)this._onError(y.LoaderErrors.EXCEPTION,n);else throw new u.RuntimeException(n.msg)}},s.prototype._dispatchArrayBuffer=function(h){var m=h,d=this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,d,this._receivedLength)},s.prototype._onWebSocketError=function(h){this._status=y.LoaderStatus.kError;var m={code:h.code,msg:h.message};if(this._onError)this._onError(y.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)},s}(y.BaseLoader);_.default=l},"./src/io/xhr-moz-chunked-loader.js":function(E,_,f){f.r(_);var y=f("./src/utils/logger.js"),u=f("./src/io/loader.js"),a=f("./src/utils/exception.js"),l=function(){var s=function(h,m){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(d[c]=n[c])},s(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");s(h,m);function d(){this.constructor=h}h.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}}(),p=function(s){l(h,s);function h(m,d){var n=s.call(this,"xhr-moz-chunked-loader")||this;return n.TAG="MozChunkedLoader",n._seekHandler=m,n._config=d,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return h.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="moz-chunked-arraybuffer",m.responseType==="moz-chunked-arraybuffer"}catch(d){return y.default.w("MozChunkedLoader",d.message),!1}},h.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),s.prototype.destroy.call(this)},h.prototype.open=function(m,d){this._dataSource=m,this._range=d;var n=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(n=m.redirectedURL);var c=this._seekHandler.getConfig(n,d);this._requestURL=c.url;var o=this._xhr=new XMLHttpRequest;if(o.open("GET",c.url,!0),o.responseType="moz-chunked-arraybuffer",o.onreadystatechange=this._onReadyStateChange.bind(this),o.onprogress=this._onProgress.bind(this),o.onloadend=this._onLoadEnd.bind(this),o.onerror=this._onXhrError.bind(this),m.withCredentials&&(o.withCredentials=!0),typeof c.headers=="object"){var t=c.headers;for(var v in t)t.hasOwnProperty(v)&&o.setRequestHeader(v,t[v])}if(typeof this._config.headers=="object"){var t=this._config.headers;for(var v in t)t.hasOwnProperty(v)&&o.setRequestHeader(v,t[v])}this._status=u.LoaderStatus.kConnecting,o.send()},h.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},h.prototype._onReadyStateChange=function(m){var d=m.target;if(d.readyState===2){if(d.responseURL!=null&&d.responseURL!==this._requestURL&&this._onURLRedirect){var n=this._seekHandler.removeURLParameters(d.responseURL);this._onURLRedirect(n)}if(d.status!==0&&(d.status<200||d.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:d.status,msg:d.statusText});else throw new a.RuntimeException("MozChunkedLoader: Http code invalid, "+d.status+" "+d.statusText);else this._status=u.LoaderStatus.kBuffering}},h.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&m.total!==null&&m.total!==0&&(this._contentLength=m.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var d=m.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=d.byteLength,this._onDataArrival&&this._onDataArrival(d,n,this._receivedLength)}},h.prototype._onLoadEnd=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},h.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var d=0,n=null;if(this._contentLength&&m.loaded<this._contentLength?(d=u.LoaderErrors.EARLY_EOF,n={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(d=u.LoaderErrors.EXCEPTION,n={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(d,n);else throw new a.RuntimeException(n.msg)},h}(u.BaseLoader);_.default=p},"./src/io/xhr-range-loader.js":function(E,_,f){f.r(_);var y=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),a=f("./src/io/loader.js"),l=f("./src/utils/exception.js"),p=function(){var h=function(m,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(n[o]=c[o])},h(m,d)};return function(m,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");h(m,d);function n(){this.constructor=m}m.prototype=d===null?Object.create(d):(n.prototype=d.prototype,new n)}}(),s=function(h){p(m,h);function m(d,n){var c=h.call(this,"xhr-range-loader")||this;return c.TAG="RangeLoader",c._seekHandler=d,c._config=n,c._needStash=!1,c._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],c._currentChunkSizeKB=384,c._currentSpeedNormalized=0,c._zeroSpeedChunkCount=0,c._xhr=null,c._speedSampler=new u.default,c._requestAbort=!1,c._waitForTotalLength=!1,c._totalLengthReceived=!1,c._currentRequestURL=null,c._currentRedirectedURL=null,c._currentRequestRange=null,c._totalLength=null,c._contentLength=null,c._receivedLength=0,c._lastTimeLoaded=0,c}return m.isSupported=function(){try{var d=new XMLHttpRequest;return d.open("GET","https://example.com",!0),d.responseType="arraybuffer",d.responseType==="arraybuffer"}catch(n){return y.default.w("RangeLoader",n.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),h.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(d,n){this._dataSource=d,this._range=n,this._status=a.LoaderStatus.kConnecting;var c=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(c=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!c?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},m.prototype._openSubRange=function(){var d=this._currentChunkSizeKB*1024,n=this._range.from+this._receivedLength,c=n+d;this._contentLength!=null&&c-this._range.from>=this._contentLength&&(c=this._range.from+this._contentLength-1),this._currentRequestRange={from:n,to:c},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(d,n){this._lastTimeLoaded=0;var c=d.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?c=this._currentRedirectedURL:d.redirectedURL!=null&&(c=d.redirectedURL));var o=this._seekHandler.getConfig(c,n);this._currentRequestURL=o.url;var t=this._xhr=new XMLHttpRequest;if(t.open("GET",o.url,!0),t.responseType="arraybuffer",t.onreadystatechange=this._onReadyStateChange.bind(this),t.onprogress=this._onProgress.bind(this),t.onload=this._onLoad.bind(this),t.onerror=this._onXhrError.bind(this),d.withCredentials&&(t.withCredentials=!0),typeof o.headers=="object"){var v=o.headers;for(var S in v)v.hasOwnProperty(S)&&t.setRequestHeader(S,v[S])}if(typeof this._config.headers=="object"){var v=this._config.headers;for(var S in v)v.hasOwnProperty(S)&&t.setRequestHeader(S,v[S])}t.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=a.LoaderStatus.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(d){var n=d.target;if(n.readyState===2){if(n.responseURL!=null){var c=this._seekHandler.removeURLParameters(n.responseURL);n.responseURL!==this._currentRequestURL&&c!==this._currentRedirectedURL&&(this._currentRedirectedURL=c,this._onURLRedirect&&this._onURLRedirect(c))}if(n.status>=200&&n.status<=299){if(this._waitForTotalLength)return;this._status=a.LoaderStatus.kBuffering}else if(this._status=a.LoaderStatus.kError,this._onError)this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:n.status,msg:n.statusText});else throw new l.RuntimeException("RangeLoader: Http code invalid, "+n.status+" "+n.statusText)}},m.prototype._onProgress=function(d){if(this._status!==a.LoaderStatus.kError){if(this._contentLength===null){var n=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,n=!0;var c=d.total;this._internalAbort(),c!=null&c!==0&&(this._totalLength=c)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,n){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var o=d.loaded-this._lastTimeLoaded;this._lastTimeLoaded=d.loaded,this._speedSampler.addBytes(o)}},m.prototype._normalizeSpeed=function(d){var n=this._chunkSizeKBList,c=n.length-1,o=0,t=0,v=c;if(d<n[0])return n[0];for(;t<=v;){if(o=t+Math.floor((v-t)/2),o===c||d>=n[o]&&d<n[o+1])return n[o];n[o]<d?t=o+1:v=o-1}},m.prototype._onLoad=function(d){if(this._status!==a.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var n=this._speedSampler.lastSecondKBps;if(n===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(n=this._speedSampler.currentKBps)),n!==0){var c=this._normalizeSpeed(n);this._currentSpeedNormalized!==c&&(this._currentSpeedNormalized=c,this._currentChunkSizeKB=c)}var o=d.target.response,t=this._range.from+this._receivedLength;this._receivedLength+=o.byteLength;var v=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():v=!0,this._onDataArrival&&this._onDataArrival(o,t,this._receivedLength),v&&(this._status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(d){this._status=a.LoaderStatus.kError;var n=0,c=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(n=a.LoaderErrors.EARLY_EOF,c={code:-1,msg:"RangeLoader meet Early-Eof"}):(n=a.LoaderErrors.EXCEPTION,c={code:-1,msg:d.constructor.name+" "+d.type}),this._onError)this._onError(n,c);else throw new l.RuntimeException(c.msg)},m}(a.BaseLoader);_.default=s},"./src/player/flv-player.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),p=f("./src/player/player-events.js"),s=f("./src/core/transmuxer.js"),h=f("./src/core/transmuxing-events.js"),m=f("./src/core/mse-controller.js"),d=f("./src/core/mse-events.js"),n=f("./src/player/player-errors.js"),c=f("./src/config.js"),o=f("./src/utils/exception.js"),t=function(){function v(S,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,c.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),S.type.toLowerCase()!=="flv")throw new o.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");S.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=S,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var C=l.default.chrome&&(l.default.version.major<50||l.default.version.major===50&&l.default.version.build<2661);this._alwaysSeekKeyframe=!!(C||l.default.msedge||l.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return v.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(S,A){var C=this;S===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.MEDIA_INFO,C.mediaInfo)}):S===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.STATISTICS_INFO,C.statisticsInfo)}),this._emitter.addListener(S,A)},v.prototype.off=function(S,A){this._emitter.removeListener(S,A)},v.prototype.attachMediaElement=function(S){var A=this;if(this._mediaElement=S,S.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),S.addEventListener("seeking",this.e.onvSeeking),S.addEventListener("canplay",this.e.onvCanPlay),S.addEventListener("stalled",this.e.onvStalled),S.addEventListener("progress",this.e.onvProgress),this._msectl=new m.default(this._config),this._msectl.on(d.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(d.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(d.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(d.default.ERROR,function(C){A._emitter.emit(p.default.ERROR,n.ErrorTypes.MEDIA_ERROR,n.ErrorDetails.MEDIA_MSE_ERROR,C)}),this._msectl.attachMediaElement(S),this._pendingSeekTime!=null)try{S.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},v.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},v.prototype.load=function(){var S=this;if(!this._mediaElement)throw new o.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new o.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new s.default(this._mediaDataSource,this._config),this._transmuxer.on(h.default.INIT_SEGMENT,function(A,C){S._msectl.appendInitSegment(C)}),this._transmuxer.on(h.default.MEDIA_SEGMENT,function(A,C){if(S._msectl.appendMediaSegment(C),S._config.lazyLoad&&!S._config.isLive){var R=S._mediaElement.currentTime;C.info.endDts>=(R+S._config.lazyLoadMaxDuration)*1e3&&S._progressChecker==null&&(a.default.v(S.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),S._suspendTransmuxer())}}),this._transmuxer.on(h.default.LOADING_COMPLETE,function(){S._msectl.endOfStream(),S._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(h.default.RECOVERED_EARLY_EOF,function(){S._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(h.default.IO_ERROR,function(A,C){S._emitter.emit(p.default.ERROR,n.ErrorTypes.NETWORK_ERROR,A,C)}),this._transmuxer.on(h.default.DEMUX_ERROR,function(A,C){S._emitter.emit(p.default.ERROR,n.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:C})}),this._transmuxer.on(h.default.MEDIA_INFO,function(A){S._mediaInfo=A,S._emitter.emit(p.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(h.default.METADATA_ARRIVED,function(A){S._emitter.emit(p.default.METADATA_ARRIVED,A)}),this._transmuxer.on(h.default.SCRIPTDATA_ARRIVED,function(A){S._emitter.emit(p.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(h.default.STATISTICS_INFO,function(A){S._statisticsInfo=S._fillStatisticsInfo(A),S._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},S._statisticsInfo))}),this._transmuxer.on(h.default.RECOMMEND_SEEKPOINT,function(A){S._mediaElement&&!S._config.accurateSeek&&(S._requestSetTime=!0,S._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},v.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},v.prototype.play=function(){return this._mediaElement.play()},v.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(S){this._mediaElement.volume=S},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(S){this._mediaElement.muted=S},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(S){this._mediaElement?this._internalSeek(S):this._pendingSeekTime=S},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),v.prototype._fillStatisticsInfo=function(S){if(S.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return S;var A=!0,C=0,R=0;if(this._mediaElement.getVideoPlaybackQuality){var L=this._mediaElement.getVideoPlaybackQuality();C=L.totalVideoFrames,R=L.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(C=this._mediaElement.webkitDecodedFrameCount,R=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(S.decodedFrames=C,S.droppedFrames=R),S},v.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var S=this._mediaElement.buffered,A=this._mediaElement.currentTime,C=0,R=0;R<S.length;R++){var L=S.start(R),w=S.end(R);if(L<=A&&A<w){C=w;break}}C>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(a.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},v.prototype._onmseBufferFull=function(){a.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},v.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},v.prototype._checkProgressAndResume=function(){for(var S=this._mediaElement.currentTime,A=this._mediaElement.buffered,C=!1,R=0;R<A.length;R++){var L=A.start(R),w=A.end(R);if(S>=L&&S<w){S>=w-this._config.lazyLoadRecoverDuration&&(C=!0);break}}C&&(window.clearInterval(this._progressChecker),this._progressChecker=null,C&&(a.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},v.prototype._isTimepointBuffered=function(S){for(var A=this._mediaElement.buffered,C=0;C<A.length;C++){var R=A.start(C),L=A.end(C);if(S>=R&&S<L)return!0}return!1},v.prototype._internalSeek=function(S){var A=this._isTimepointBuffered(S),C=!1,R=0;if(S<1&&this._mediaElement.buffered.length>0){var L=this._mediaElement.buffered.start(0);(L<1&&S<L||l.default.safari)&&(C=!0,R=l.default.safari?.1:L)}if(C)this._requestSetTime=!0,this._mediaElement.currentTime=R;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=S;else{var w=this._msectl.getNearestKeyframe(Math.floor(S*1e3));this._requestSetTime=!0,w!=null?this._mediaElement.currentTime=w.dts/1e3:this._mediaElement.currentTime=S}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(S),this._transmuxer.seek(Math.floor(S*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=S)},v.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var S=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(S)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(S),this._transmuxer.seek(Math.floor(S*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=S))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},v.prototype._checkAndResumeStuckPlayback=function(S){var A=this._mediaElement;if(S||!this._receivedCanPlay||A.readyState<2){var C=A.buffered;C.length>0&&A.currentTime<C.start(0)&&(a.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+C.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=C.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},v.prototype._onvLoadedMetadata=function(S){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},v.prototype._onvSeeking=function(S){var A=this._mediaElement.currentTime,C=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&C.length>0){var R=C.start(0);if(R<1&&A<R||l.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=l.default.safari?.1:R;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var L=this._msectl.getNearestKeyframe(Math.floor(A*1e3));L!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=L.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},v.prototype._onvCanPlay=function(S){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},v.prototype._onvStalled=function(S){this._checkAndResumeStuckPlayback(!0)},v.prototype._onvProgress=function(S){this._checkAndResumeStuckPlayback()},v}();_.default=t},"./src/player/native-player.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=f("./src/player/player-events.js"),l=f("./src/config.js"),p=f("./src/utils/exception.js"),s=function(){function h(m,d){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,l.createDefaultConfig)(),typeof d=="object"&&Object.assign(this._config,d),m.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(m.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+m.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=m,this._mediaElement=null}return h.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},h.prototype.on=function(m,d){var n=this;m===a.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){n._emitter.emit(a.default.MEDIA_INFO,n.mediaInfo)}):m===a.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){n._emitter.emit(a.default.STATISTICS_INFO,n.statisticsInfo)}),this._emitter.addListener(m,d)},h.prototype.off=function(m,d){this._emitter.removeListener(m,d)},h.prototype.attachMediaElement=function(m){if(this._mediaElement=m,m.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{m.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},h.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},h.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},h.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},h.prototype.play=function(){return this._mediaElement.play()},h.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(m){this._mediaElement.volume=m},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(m){this._mediaElement.muted=m},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(m){this._mediaElement?this._mediaElement.currentTime=m:this._pendingSeekTime=m},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"mediaInfo",{get:function(){var m=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",d={mimeType:m+this._mediaDataSource.type};return this._mediaElement&&(d.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(d.width=this._mediaElement.videoWidth,d.height=this._mediaElement.videoHeight)),d},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"statisticsInfo",{get:function(){var m={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return m;var d=!0,n=0,c=0;if(this._mediaElement.getVideoPlaybackQuality){var o=this._mediaElement.getVideoPlaybackQuality();n=o.totalVideoFrames,c=o.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(n=this._mediaElement.webkitDecodedFrameCount,c=this._mediaElement.webkitDroppedFrameCount):d=!1;return d&&(m.decodedFrames=n,m.droppedFrames=c),m},enumerable:!1,configurable:!0}),h.prototype._onvLoadedMetadata=function(m){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(a.default.MEDIA_INFO,this.mediaInfo)},h.prototype._reportStatisticsInfo=function(){this._emitter.emit(a.default.STATISTICS_INFO,this.statisticsInfo)},h}();_.default=s},"./src/player/player-errors.js":function(E,_,f){f.r(_),f.d(_,{ErrorTypes:function(){return a},ErrorDetails:function(){return l}});var y=f("./src/io/loader.js"),u=f("./src/demux/demux-errors.js"),a={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},l={NETWORK_EXCEPTION:y.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:y.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:y.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:y.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(E,_,f){f.r(_);var y={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};_.default=y},"./src/remux/aac-silent.js":function(E,_,f){f.r(_);var y=function(){function u(){}return u.getSilentFrame=function(a,l){if(a==="mp4a.40.2"){if(l===1)return new Uint8Array([0,200,0,128,35,128]);if(l===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(l===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(l===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(l===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(l===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(l===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();_.default=y},"./src/remux/mp4-generator.js":function(E,_,f){f.r(_);var y=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var a in u.types)u.types.hasOwnProperty(a)&&(u.types[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);var l=u.constants={};l.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),l.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),l.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),l.STSC=l.STCO=l.STTS,l.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),l.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),l.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),l.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),l.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),l.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(a){for(var l=8,p=null,s=Array.prototype.slice.call(arguments,1),h=s.length,m=0;m<h;m++)l+=s[m].byteLength;p=new Uint8Array(l),p[0]=l>>>24&255,p[1]=l>>>16&255,p[2]=l>>>8&255,p[3]=l&255,p.set(a,4);for(var d=8,m=0;m<h;m++)p.set(s[m],d),d+=s[m].byteLength;return p},u.generateInitSegment=function(a){var l=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(a),s=new Uint8Array(l.byteLength+p.byteLength);return s.set(l,0),s.set(p,l.byteLength),s},u.moov=function(a){var l=u.mvhd(a.timescale,a.duration),p=u.trak(a),s=u.mvex(a);return u.box(u.types.moov,l,p,s)},u.mvhd=function(a,l){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,a&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(a){return u.box(u.types.trak,u.tkhd(a),u.mdia(a))},u.tkhd=function(a){var l=a.id,p=a.duration,s=a.presentWidth,h=a.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>>8&255,s&255,0,0,h>>>8&255,h&255,0,0]))},u.mdia=function(a){return u.box(u.types.mdia,u.mdhd(a),u.hdlr(a),u.minf(a))},u.mdhd=function(a){var l=a.timescale,p=a.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(a){var l=null;return a.type==="audio"?l=u.constants.HDLR_AUDIO:l=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,l)},u.minf=function(a){var l=null;return a.type==="audio"?l=u.box(u.types.smhd,u.constants.SMHD):l=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,l,u.dinf(),u.stbl(a))},u.dinf=function(){var a=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return a},u.stbl=function(a){var l=u.box(u.types.stbl,u.stsd(a),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return l},u.stsd=function(a){return a.type==="audio"?a.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(a)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(a)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(a))},u.mp3=function(a){var l=a.channelCount,p=a.audioSampleRate,s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],s)},u.mp4a=function(a){var l=a.channelCount,p=a.audioSampleRate,s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,s,u.esds(a))},u.esds=function(a){var l=a.config||[],p=l.length,s=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(l).concat([6,1,2]));return u.box(u.types.esds,s)},u.avc1=function(a){var l=a.avcc,p=a.codecWidth,s=a.codecHeight,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,s>>>8&255,s&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,h,u.box(u.types.avcC,l))},u.mvex=function(a){return u.box(u.types.mvex,u.trex(a))},u.trex=function(a){var l=a.id,p=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(a,l){return u.box(u.types.moof,u.mfhd(a.sequenceNumber),u.traf(a,l))},u.mfhd=function(a){var l=new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,a&255]);return u.box(u.types.mfhd,l)},u.traf=function(a,l){var p=a.id,s=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),h=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255])),m=u.sdtp(a),d=u.trun(a,m.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,s,h,d,m)},u.sdtp=function(a){for(var l=a.samples||[],p=l.length,s=new Uint8Array(4+p),h=0;h<p;h++){var m=l[h].flags;s[h+4]=m.isLeading<<6|m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy}return u.box(u.types.sdtp,s)},u.trun=function(a,l){var p=a.samples||[],s=p.length,h=12+16*s,m=new Uint8Array(h);l+=8+h,m.set([0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255],0);for(var d=0;d<s;d++){var n=p[d].duration,c=p[d].size,o=p[d].flags,t=p[d].cts;m.set([n>>>24&255,n>>>16&255,n>>>8&255,n&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.isNonSync,0,0,t>>>24&255,t>>>16&255,t>>>8&255,t&255],12+16*d)}return u.box(u.types.trun,m)},u.mdat=function(a){return u.box(u.types.mdat,a)},u}();y.init(),_.default=y},"./src/remux/mp4-remuxer.js":function(E,_,f){f.r(_);var y=f("./src/utils/logger.js"),u=f("./src/remux/mp4-generator.js"),a=f("./src/remux/aac-silent.js"),l=f("./src/utils/browser.js"),p=f("./src/core/media-segment-info.js"),s=f("./src/utils/exception.js"),h=function(){function m(d){this.TAG="MP4Remuxer",this._config=d,this._isLive=d.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(l.default.chrome&&(l.default.version.major<50||l.default.version.major===50&&l.default.version.build<2661)),this._fillSilentAfterSeek=l.default.msedge||l.default.msie,this._mp3UseMpegAudio=!l.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return m.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},m.prototype.bindDataSource=function(d){return d.onDataAvailable=this.remux.bind(this),d.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(m.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(d){this._onInitSegment=d},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(d){this._onMediaSegment=d},enumerable:!1,configurable:!0}),m.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},m.prototype.seek=function(d){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},m.prototype.remux=function(d,n){if(!this._onMediaSegment)throw new s.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(d,n),this._remuxVideo(n),this._remuxAudio(d)},m.prototype._onTrackMetadataReceived=function(d,n){var c=null,o="mp4",t=n.codec;if(d==="audio")this._audioMeta=n,n.codec==="mp3"&&this._mp3UseMpegAudio?(o="mpeg",t="",c=new Uint8Array):c=u.default.generateInitSegment(n);else if(d==="video")this._videoMeta=n,c=u.default.generateInitSegment(n);else return;if(!this._onInitSegment)throw new s.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(d,{type:d,data:c.buffer,codec:t,container:d+"/"+o,mediaDuration:n.duration})},m.prototype._calculateDtsBase=function(d,n){this._dtsBaseInited||(d.samples&&d.samples.length&&(this._audioDtsBase=d.samples[0].dts),n.samples&&n.samples.length&&(this._videoDtsBase=n.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},m.prototype.flushStashedSamples=function(){var d=this._videoStashedLastSample,n=this._audioStashedLastSample,c={type:"video",id:1,sequenceNumber:0,samples:[],length:0};d!=null&&(c.samples.push(d),c.length=d.length);var o={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};n!=null&&(o.samples.push(n),o.length=n.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(c,!0),this._remuxAudio(o,!0)},m.prototype._remuxAudio=function(d,n){if(this._audioMeta!=null){var c=d,o=c.samples,t=void 0,v=-1,S=-1,A=this._audioMeta.refSampleDuration,C=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,R=this._dtsBaseInited&&this._audioNextDts===void 0,L=!1;if(!(!o||o.length===0)&&!(o.length===1&&!n)){var w=0,O=null,P=0;C?(w=0,P=c.length):(w=8,P=8+c.length);var M=null;if(o.length>1&&(M=o.pop(),P-=M.length),this._audioStashedLastSample!=null){var D=this._audioStashedLastSample;this._audioStashedLastSample=null,o.unshift(D),P+=D.length}M!=null&&(this._audioStashedLastSample=M);var k=o[0].dts-this._dtsBase;if(this._audioNextDts)t=k-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())t=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(L=!0);else{var G=this._audioSegmentInfoList.getLastSampleBefore(k);if(G!=null){var K=k-(G.originalDts+G.duration);K<=3&&(K=0);var W=G.dts+G.duration+K;t=k-W}else t=0}if(L){var Z=k-t,X=this._videoSegmentInfoList.getLastSegmentBefore(k);if(X!=null&&X.beginDts<Z){var V=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(V){var Q=X.beginDts,Ae=Z-X.beginDts;y.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+Q+", duration: "+Ae),o.unshift({unit:V,dts:Q,pts:Q}),P+=V.byteLength}}else L=!1}for(var se=[],ie=0;ie<o.length;ie++){var D=o[ie],pe=D.unit,le=D.dts-this._dtsBase,Q=le,ue=!1,Ee=null,J=0;if(!(le<-.001)){if(this._audioMeta.codec!=="mp3"){var N=le,fe=3;if(this._audioNextDts&&(N=this._audioNextDts),t=le-N,t<=-fe*A){y.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+le+" ms ,curRefDts: "+N+" ms)  due to dtsCorrection: "+t+" ms overlap.");continue}else if(t>=fe*A&&this._fillAudioTimestampGap&&!l.default.safari){ue=!0;var j=Math.floor(t/A);y.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+le+" ms, curRefDts: "+N+" ms, ")+("dtsCorrection: "+Math.round(t)+" ms, generate: "+j+" frames")),Q=Math.floor(N),J=Math.floor(N+A)-Q;var V=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);V==null&&(y.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),V=pe),Ee=[];for(var q=0;q<j;q++){N=N+A;var te=Math.floor(N),ce=Math.floor(N+A)-te,we={dts:te,pts:te,cts:0,unit:V,size:V.byteLength,duration:ce,originalDts:le,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Ee.push(we),P+=we.size}this._audioNextDts=N+A}else Q=Math.floor(N),J=Math.floor(N+A)-Q,this._audioNextDts=N+A}else{if(Q=le-t,ie!==o.length-1){var Ce=o[ie+1].dts-this._dtsBase-t;J=Ce-Q}else if(M!=null){var Ce=M.dts-this._dtsBase-t;J=Ce-Q}else se.length>=1?J=se[se.length-1].duration:J=Math.floor(A);this._audioNextDts=Q+J}v===-1&&(v=Q),se.push({dts:Q,pts:Q,cts:0,unit:D.unit,size:D.unit.byteLength,duration:J,originalDts:le,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),ue&&se.push.apply(se,Ee)}}if(se.length===0){c.samples=[],c.length=0;return}C?O=new Uint8Array(P):(O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4));for(var ie=0;ie<se.length;ie++){var pe=se[ie].unit;O.set(pe,w),w+=pe.byteLength}var be=se[se.length-1];S=be.dts+be.duration;var ae=new p.MediaSegmentInfo;ae.beginDts=v,ae.endDts=S,ae.beginPts=v,ae.endPts=S,ae.originalBeginDts=se[0].originalDts,ae.originalEndDts=be.originalDts+be.duration,ae.firstSample=new p.SampleInfo(se[0].dts,se[0].pts,se[0].duration,se[0].originalDts,!1),ae.lastSample=new p.SampleInfo(be.dts,be.pts,be.duration,be.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(ae),c.samples=se,c.sequenceNumber++;var ne=null;C?ne=new Uint8Array:ne=u.default.moof(c,v),c.samples=[],c.length=0;var Se={type:"audio",data:this._mergeBoxes(ne,O).buffer,sampleCount:se.length,info:ae};C&&R&&(Se.timestampOffset=v),this._onMediaSegment("audio",Se)}}},m.prototype._remuxVideo=function(d,n){if(this._videoMeta!=null){var c=d,o=c.samples,t=void 0,v=-1,S=-1,A=-1,C=-1;if(!(!o||o.length===0)&&!(o.length===1&&!n)){var R=8,L=null,w=8+d.length,O=null;if(o.length>1&&(O=o.pop(),w-=O.length),this._videoStashedLastSample!=null){var P=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(P),w+=P.length}O!=null&&(this._videoStashedLastSample=O);var M=o[0].dts-this._dtsBase;if(this._videoNextDts)t=M-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())t=0;else{var D=this._videoSegmentInfoList.getLastSampleBefore(M);if(D!=null){var k=M-(D.originalDts+D.duration);k<=3&&(k=0);var G=D.dts+D.duration+k;t=M-G}else t=0}for(var K=new p.MediaSegmentInfo,W=[],Z=0;Z<o.length;Z++){var P=o[Z],X=P.dts-this._dtsBase,V=P.isKeyframe,Q=X-t,Ae=P.cts,se=Q+Ae;v===-1&&(v=Q,A=se);var ie=0;if(Z!==o.length-1){var pe=o[Z+1].dts-this._dtsBase-t;ie=pe-Q}else if(O!=null){var pe=O.dts-this._dtsBase-t;ie=pe-Q}else W.length>=1?ie=W[W.length-1].duration:ie=Math.floor(this._videoMeta.refSampleDuration);if(V){var le=new p.SampleInfo(Q,se,ie,P.dts,!0);le.fileposition=P.fileposition,K.appendSyncPoint(le)}W.push({dts:Q,pts:se,cts:Ae,units:P.units,size:P.length,isKeyframe:V,duration:ie,originalDts:X,flags:{isLeading:0,dependsOn:V?2:1,isDependedOn:V?1:0,hasRedundancy:0,isNonSync:V?0:1}})}L=new Uint8Array(w),L[0]=w>>>24&255,L[1]=w>>>16&255,L[2]=w>>>8&255,L[3]=w&255,L.set(u.default.types.mdat,4);for(var Z=0;Z<W.length;Z++)for(var ue=W[Z].units;ue.length;){var Ee=ue.shift(),J=Ee.data;L.set(J,R),R+=J.byteLength}var N=W[W.length-1];if(S=N.dts+N.duration,C=N.pts+N.duration,this._videoNextDts=S,K.beginDts=v,K.endDts=S,K.beginPts=A,K.endPts=C,K.originalBeginDts=W[0].originalDts,K.originalEndDts=N.originalDts+N.duration,K.firstSample=new p.SampleInfo(W[0].dts,W[0].pts,W[0].duration,W[0].originalDts,W[0].isKeyframe),K.lastSample=new p.SampleInfo(N.dts,N.pts,N.duration,N.originalDts,N.isKeyframe),this._isLive||this._videoSegmentInfoList.append(K),c.samples=W,c.sequenceNumber++,this._forceFirstIDR){var fe=W[0].flags;fe.dependsOn=2,fe.isNonSync=0}var j=u.default.moof(c,v);c.samples=[],c.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(j,L).buffer,sampleCount:W.length,info:K})}}},m.prototype._mergeBoxes=function(d,n){var c=new Uint8Array(d.byteLength+n.byteLength);return c.set(d,0),c.set(n,d.byteLength),c},m}();_.default=h},"./src/utils/browser.js":function(E,_,f){f.r(_);var y={};function u(){var a=self.navigator.userAgent.toLowerCase(),l=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(a)||[],p=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(android)/.exec(a)||/(windows)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||[],s={browser:l[5]||l[3]||l[1]||"",version:l[2]||l[4]||"0",majorVersion:l[4]||l[2]||"0",platform:p[0]||""},h={};if(s.browser){h[s.browser]=!0;var m=s.majorVersion.split(".");h.version={major:parseInt(s.majorVersion,10),string:s.version},m.length>1&&(h.version.minor=parseInt(m[1],10)),m.length>2&&(h.version.build=parseInt(m[2],10))}if(s.platform&&(h[s.platform]=!0),(h.chrome||h.opr||h.safari)&&(h.webkit=!0),h.rv||h.iemobile){h.rv&&delete h.rv;var d="msie";s.browser=d,h[d]=!0}if(h.edge){delete h.edge;var n="msedge";s.browser=n,h[n]=!0}if(h.opr){var c="opera";s.browser=c,h[c]=!0}if(h.safari&&h.android){var o="android";s.browser=o,h[o]=!0}h.name=s.browser,h.platform=s.platform;for(var t in y)y.hasOwnProperty(t)&&delete y[t];Object.assign(y,h)}u(),_.default=y},"./src/utils/exception.js":function(E,_,f){f.r(_),f.d(_,{RuntimeException:function(){return u},IllegalStateException:function(){return a},InvalidArgumentException:function(){return l},NotImplementedException:function(){return p}});var y=function(){var s=function(h,m){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(d[c]=n[c])},s(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");s(h,m);function d(){this.constructor=h}h.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}}(),u=function(){function s(h){this._message=h}return Object.defineProperty(s.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),s.prototype.toString=function(){return this.name+": "+this.message},s}(),a=function(s){y(h,s);function h(m){return s.call(this,m)||this}return Object.defineProperty(h.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),h}(u),l=function(s){y(h,s);function h(m){return s.call(this,m)||this}return Object.defineProperty(h.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),h}(u),p=function(s){y(h,s);function h(m){return s.call(this,m)||this}return Object.defineProperty(h.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),h}(u)},"./src/utils/logger.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=function(){function l(){}return l.e=function(p,s){(!p||l.FORCE_GLOBAL_TAG)&&(p=l.GLOBAL_TAG);var h="["+p+"] > "+s;l.ENABLE_CALLBACK&&l.emitter.emit("log","error",h),!!l.ENABLE_ERROR&&(console.error?console.error(h):console.warn?console.warn(h):console.log(h))},l.i=function(p,s){(!p||l.FORCE_GLOBAL_TAG)&&(p=l.GLOBAL_TAG);var h="["+p+"] > "+s;l.ENABLE_CALLBACK&&l.emitter.emit("log","info",h),!!l.ENABLE_INFO&&(console.info?console.info(h):console.log(h))},l.w=function(p,s){(!p||l.FORCE_GLOBAL_TAG)&&(p=l.GLOBAL_TAG);var h="["+p+"] > "+s;l.ENABLE_CALLBACK&&l.emitter.emit("log","warn",h),!!l.ENABLE_WARN&&(console.warn?console.warn(h):console.log(h))},l.d=function(p,s){(!p||l.FORCE_GLOBAL_TAG)&&(p=l.GLOBAL_TAG);var h="["+p+"] > "+s;l.ENABLE_CALLBACK&&l.emitter.emit("log","debug",h),!!l.ENABLE_DEBUG&&(console.debug?console.debug(h):console.log(h))},l.v=function(p,s){(!p||l.FORCE_GLOBAL_TAG)&&(p=l.GLOBAL_TAG);var h="["+p+"] > "+s;l.ENABLE_CALLBACK&&l.emitter.emit("log","verbose",h),!!l.ENABLE_VERBOSE&&console.log(h)},l}();a.GLOBAL_TAG="flv.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new(u()),_.default=a},"./src/utils/logging-control.js":function(E,_,f){f.r(_);var y=f("./node_modules/events/events.js"),u=f.n(y),a=f("./src/utils/logger.js"),l=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return a.default.FORCE_GLOBAL_TAG},set:function(s){a.default.FORCE_GLOBAL_TAG=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return a.default.GLOBAL_TAG},set:function(s){a.default.GLOBAL_TAG=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return a.default.ENABLE_VERBOSE&&a.default.ENABLE_DEBUG&&a.default.ENABLE_INFO&&a.default.ENABLE_WARN&&a.default.ENABLE_ERROR},set:function(s){a.default.ENABLE_VERBOSE=s,a.default.ENABLE_DEBUG=s,a.default.ENABLE_INFO=s,a.default.ENABLE_WARN=s,a.default.ENABLE_ERROR=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return a.default.ENABLE_DEBUG},set:function(s){a.default.ENABLE_DEBUG=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return a.default.ENABLE_VERBOSE},set:function(s){a.default.ENABLE_VERBOSE=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return a.default.ENABLE_INFO},set:function(s){a.default.ENABLE_INFO=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return a.default.ENABLE_WARN},set:function(s){a.default.ENABLE_WARN=s,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return a.default.ENABLE_ERROR},set:function(s){a.default.ENABLE_ERROR=s,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:a.default.GLOBAL_TAG,forceGlobalTag:a.default.FORCE_GLOBAL_TAG,enableVerbose:a.default.ENABLE_VERBOSE,enableDebug:a.default.ENABLE_DEBUG,enableInfo:a.default.ENABLE_INFO,enableWarn:a.default.ENABLE_WARN,enableError:a.default.ENABLE_ERROR,enableCallback:a.default.ENABLE_CALLBACK}},p.applyConfig=function(s){a.default.GLOBAL_TAG=s.globalTag,a.default.FORCE_GLOBAL_TAG=s.forceGlobalTag,a.default.ENABLE_VERBOSE=s.enableVerbose,a.default.ENABLE_DEBUG=s.enableDebug,a.default.ENABLE_INFO=s.enableInfo,a.default.ENABLE_WARN=s.enableWarn,a.default.ENABLE_ERROR=s.enableError,a.default.ENABLE_CALLBACK=s.enableCallback},p._notifyChange=function(){var s=p.emitter;if(s.listenerCount("change")>0){var h=p.getConfig();s.emit("change",h)}},p.registerListener=function(s){p.emitter.addListener("change",s)},p.removeListener=function(s){p.emitter.removeListener("change",s)},p.addLogListener=function(s){a.default.emitter.addListener("log",s),a.default.emitter.listenerCount("log")>0&&(a.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(s){a.default.emitter.removeListener("log",s),a.default.emitter.listenerCount("log")===0&&(a.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();l.emitter=new(u()),_.default=l},"./src/utils/polyfill.js":function(E,_,f){f.r(_);var y=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a},Object.assign=Object.assign||function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),p=1;p<arguments.length;p++){var s=arguments[p];if(s!=null)for(var h in s)s.hasOwnProperty(h)&&(l[h]=s[h])}return l},typeof self.Promise!="function"&&f("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();y.install(),_.default=y},"./src/utils/utf8-conv.js":function(E,_,f){f.r(_);function y(a,l,p){var s=a;if(l+p<s.length){for(;p--;)if((s[++l]&192)!=128)return!1;return!0}else return!1}function u(a){for(var l=[],p=a,s=0,h=a.length;s<h;){if(p[s]<128){l.push(String.fromCharCode(p[s])),++s;continue}else if(!(p[s]<192)){if(p[s]<224){if(y(p,s,1)){var m=(p[s]&31)<<6|p[s+1]&63;if(m>=128){l.push(String.fromCharCode(m&65535)),s+=2;continue}}}else if(p[s]<240){if(y(p,s,2)){var m=(p[s]&15)<<12|(p[s+1]&63)<<6|p[s+2]&63;if(m>=2048&&(m&63488)!=55296){l.push(String.fromCharCode(m&65535)),s+=3;continue}}}else if(p[s]<248&&y(p,s,3)){var m=(p[s]&7)<<18|(p[s+1]&63)<<12|(p[s+2]&63)<<6|p[s+3]&63;if(m>65536&&m<1114112){m-=65536,l.push(String.fromCharCode(m>>>10|55296)),l.push(String.fromCharCode(m&1023|56320)),s+=4;continue}}}l.push(String.fromCharCode(65533)),++s}return l.join("")}_.default=u}},g={};function x(E){var _=g[E];if(_!==void 0)return _.exports;var f=g[E]={exports:{}};return i[E].call(f.exports,f,f.exports,x),f.exports}x.m=i,function(){x.n=function(E){var _=E&&E.__esModule?function(){return E.default}:function(){return E};return x.d(_,{a:_}),_}}(),function(){x.d=function(E,_){for(var f in _)x.o(_,f)&&!x.o(E,f)&&Object.defineProperty(E,f,{enumerable:!0,get:_[f]})}}(),function(){x.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){x.o=function(E,_){return Object.prototype.hasOwnProperty.call(E,_)}}(),function(){x.r=function(E){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}}();var b=x("./src/index.js");return b}()})})(Jt);var ht=Ur(Jt.exports);const $r={class:"w-100 h-100 m-auto"},Xr={key:0,class:"position-absolute w-100 h-100 bg-dark",style:{left:"0%",right:"0%",top:"0%",bottom:"0%","min-width":"100%","min-height":"100%","z-index":"5"}},Yr=T("div",{class:"d-flex flex-column justify-content-center"},[T("h3",{class:"h3 text-light align-self-center"},"\u4E0D\u652F\u6301\u8BE5\u6D4F\u89C8\u5668")],-1),qr=[Yr],Zt=Ye({props:{video_src:null,volume:null,playing:{type:Boolean}},setup(r){const e=r;var i;const g=Y(),x=Y(!1);return st(()=>{qe(()=>{ht.isSupported()?(i=ht.createPlayer({type:"flv",url:e.video_src}),i.attachMediaElement(g.value),i.load(),i.volume=e.volume):x.value=!0})}),at(()=>e.video_src,()=>{ht.isSupported()?(i=ht.createPlayer({type:"flv",url:e.video_src}),i.attachMediaElement(g.value),i.load()):x.value=!0}),at(()=>e.volume,()=>{i.volume=e.volume}),at(()=>e.playing,()=>{e.playing?i.play():i.pause()}),Yt(()=>{}),(b,E)=>(ee(),re("div",$r,[T("video",{class:"w-100 m-0",style:{"min-height":"100%","z-index":"1"},ref:(_,f)=>{f.videoElement=_,g.value=_}},null,512),x.value?(ee(),re("div",Xr,qr)):Oe("",!0)]))}});var Ct={exports:{}},er=function(e,i){return function(){for(var x=new Array(arguments.length),b=0;b<x.length;b++)x[b]=arguments[b];return e.apply(i,x)}},Qr=er,He=Object.prototype.toString;function Pt(r){return He.call(r)==="[object Array]"}function Tt(r){return typeof r=="undefined"}function Jr(r){return r!==null&&!Tt(r)&&r.constructor!==null&&!Tt(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Zr(r){return He.call(r)==="[object ArrayBuffer]"}function en(r){return typeof FormData!="undefined"&&r instanceof FormData}function tn(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&r.buffer instanceof ArrayBuffer,e}function rn(r){return typeof r=="string"}function nn(r){return typeof r=="number"}function tr(r){return r!==null&&typeof r=="object"}function ft(r){if(He.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function sn(r){return He.call(r)==="[object Date]"}function an(r){return He.call(r)==="[object File]"}function on(r){return He.call(r)==="[object Blob]"}function rr(r){return He.call(r)==="[object Function]"}function ln(r){return tr(r)&&rr(r.pipe)}function un(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function dn(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function cn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Dt(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),Pt(r))for(var i=0,g=r.length;i<g;i++)e.call(null,r[i],i,r);else for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&e.call(null,r[x],x,r)}function It(){var r={};function e(x,b){ft(r[b])&&ft(x)?r[b]=It(r[b],x):ft(x)?r[b]=It({},x):Pt(x)?r[b]=x.slice():r[b]=x}for(var i=0,g=arguments.length;i<g;i++)Dt(arguments[i],e);return r}function hn(r,e,i){return Dt(e,function(x,b){i&&typeof x=="function"?r[b]=Qr(x,i):r[b]=x}),r}function fn(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var Pe={isArray:Pt,isArrayBuffer:Zr,isBuffer:Jr,isFormData:en,isArrayBufferView:tn,isString:rn,isNumber:nn,isObject:tr,isPlainObject:ft,isUndefined:Tt,isDate:sn,isFile:an,isBlob:on,isFunction:rr,isStream:ln,isURLSearchParams:un,isStandardBrowserEnv:cn,forEach:Dt,merge:It,extend:hn,trim:dn,stripBOM:fn},Je=Pe;function nr(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ir=function(e,i,g){if(!i)return e;var x;if(g)x=g(i);else if(Je.isURLSearchParams(i))x=i.toString();else{var b=[];Je.forEach(i,function(f,y){f===null||typeof f=="undefined"||(Je.isArray(f)?y=y+"[]":f=[f],Je.forEach(f,function(a){Je.isDate(a)?a=a.toISOString():Je.isObject(a)&&(a=JSON.stringify(a)),b.push(nr(y)+"="+nr(a))}))}),x=b.join("&")}if(x){var E=e.indexOf("#");E!==-1&&(e=e.slice(0,E)),e+=(e.indexOf("?")===-1?"?":"&")+x}return e},_n=Pe;function _t(){this.handlers=[]}_t.prototype.use=function(e,i,g){return this.handlers.push({fulfilled:e,rejected:i,synchronous:g?g.synchronous:!1,runWhen:g?g.runWhen:null}),this.handlers.length-1};_t.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};_t.prototype.forEach=function(e){_n.forEach(this.handlers,function(g){g!==null&&e(g)})};var pn=_t,mn=Pe,vn=function(e,i){mn.forEach(e,function(x,b){b!==i&&b.toUpperCase()===i.toUpperCase()&&(e[i]=x,delete e[b])})},sr=function(e,i,g,x,b){return e.config=i,g&&(e.code=g),e.request=x,e.response=b,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},gn=sr,ar=function(e,i,g,x,b){var E=new Error(e);return gn(E,i,g,x,b)},xn=ar,yn=function(e,i,g){var x=g.config.validateStatus;!g.status||!x||x(g.status)?e(g):i(xn("Request failed with status code "+g.status,g.config,null,g.request,g))},pt=Pe,En=pt.isStandardBrowserEnv()?function(){return{write:function(i,g,x,b,E,_){var f=[];f.push(i+"="+encodeURIComponent(g)),pt.isNumber(x)&&f.push("expires="+new Date(x).toGMTString()),pt.isString(b)&&f.push("path="+b),pt.isString(E)&&f.push("domain="+E),_===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(i){var g=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),bn=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},Sn=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e},Ln=bn,An=Sn,wn=function(e,i){return e&&!Ln(i)?An(e,i):i},Mt=Pe,On=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Rn=function(e){var i={},g,x,b;return e&&Mt.forEach(e.split(`
`),function(_){if(b=_.indexOf(":"),g=Mt.trim(_.substr(0,b)).toLowerCase(),x=Mt.trim(_.substr(b+1)),g){if(i[g]&&On.indexOf(g)>=0)return;g==="set-cookie"?i[g]=(i[g]?i[g]:[]).concat([x]):i[g]=i[g]?i[g]+", "+x:x}}),i},or=Pe,Cn=or.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),g;function x(b){var E=b;return e&&(i.setAttribute("href",E),E=i.href),i.setAttribute("href",E),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return g=x(window.location.href),function(E){var _=or.isString(E)?x(E):E;return _.protocol===g.protocol&&_.host===g.host}}():function(){return function(){return!0}}();function Ft(r){this.message=r}Ft.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Ft.prototype.__CANCEL__=!0;var mt=Ft,vt=Pe,Pn=yn,Tn=En,Dn=ir,In=wn,Mn=Rn,Fn=Cn,kt=ar,kn=xt,Bn=mt,lr=function(e){return new Promise(function(g,x){var b=e.data,E=e.headers,_=e.responseType,f;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}vt.isFormData(b)&&delete E["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";E.Authorization="Basic "+btoa(a+":"+l)}var p=In(e.baseURL,e.url);u.open(e.method.toUpperCase(),Dn(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function s(){if(!!u){var m="getAllResponseHeaders"in u?Mn(u.getAllResponseHeaders()):null,d=!_||_==="text"||_==="json"?u.responseText:u.response,n={data:d,status:u.status,statusText:u.statusText,headers:m,config:e,request:u};Pn(function(o){g(o),y()},function(o){x(o),y()},n),u=null}}if("onloadend"in u?u.onloadend=s:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(s)},u.onabort=function(){!u||(x(kt("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){x(kt("Network Error",e,null,u)),u=null},u.ontimeout=function(){var d=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||kn.transitional;e.timeoutErrorMessage&&(d=e.timeoutErrorMessage),x(kt(d,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},vt.isStandardBrowserEnv()){var h=(e.withCredentials||Fn(p))&&e.xsrfCookieName?Tn.read(e.xsrfCookieName):void 0;h&&(E[e.xsrfHeaderName]=h)}"setRequestHeader"in u&&vt.forEach(E,function(d,n){typeof b=="undefined"&&n.toLowerCase()==="content-type"?delete E[n]:u.setRequestHeader(n,d)}),vt.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),_&&_!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(m){!u||(x(!m||m&&m.type?new Bn("canceled"):m),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),b||(b=null),u.send(b)})},Le=Pe,ur=vn,Un=sr,jn={"Content-Type":"application/x-www-form-urlencoded"};function dr(r,e){!Le.isUndefined(r)&&Le.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function Nn(){var r;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(r=lr),r}function Vn(r,e,i){if(Le.isString(r))try{return(e||JSON.parse)(r),Le.trim(r)}catch(g){if(g.name!=="SyntaxError")throw g}return(i||JSON.stringify)(r)}var gt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Nn(),transformRequest:[function(e,i){return ur(i,"Accept"),ur(i,"Content-Type"),Le.isFormData(e)||Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)?e:Le.isArrayBufferView(e)?e.buffer:Le.isURLSearchParams(e)?(dr(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Le.isObject(e)||i&&i["Content-Type"]==="application/json"?(dr(i,"application/json"),Vn(e)):e}],transformResponse:[function(e){var i=this.transitional||gt.transitional,g=i&&i.silentJSONParsing,x=i&&i.forcedJSONParsing,b=!g&&this.responseType==="json";if(b||x&&Le.isString(e)&&e.length)try{return JSON.parse(e)}catch(E){if(b)throw E.name==="SyntaxError"?Un(E,this,"E_JSON_PARSE"):E}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Le.forEach(["delete","get","head"],function(e){gt.headers[e]={}});Le.forEach(["post","put","patch"],function(e){gt.headers[e]=Le.merge(jn)});var xt=gt,Gn=Pe,zn=xt,Wn=function(e,i,g){var x=this||zn;return Gn.forEach(g,function(E){e=E.call(x,e,i)}),e},cr=function(e){return!!(e&&e.__CANCEL__)},hr=Pe,Bt=Wn,Hn=cr,Kn=xt,$n=mt;function Ut(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new $n("canceled")}var Xn=function(e){Ut(e),e.headers=e.headers||{},e.data=Bt.call(e,e.data,e.headers,e.transformRequest),e.headers=hr.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),hr.forEach(["delete","get","head","post","put","patch","common"],function(x){delete e.headers[x]});var i=e.adapter||Kn.adapter;return i(e).then(function(x){return Ut(e),x.data=Bt.call(e,x.data,x.headers,e.transformResponse),x},function(x){return Hn(x)||(Ut(e),x&&x.response&&(x.response.data=Bt.call(e,x.response.data,x.response.headers,e.transformResponse))),Promise.reject(x)})},Te=Pe,fr=function(e,i){i=i||{};var g={};function x(u,a){return Te.isPlainObject(u)&&Te.isPlainObject(a)?Te.merge(u,a):Te.isPlainObject(a)?Te.merge({},a):Te.isArray(a)?a.slice():a}function b(u){if(Te.isUndefined(i[u])){if(!Te.isUndefined(e[u]))return x(void 0,e[u])}else return x(e[u],i[u])}function E(u){if(!Te.isUndefined(i[u]))return x(void 0,i[u])}function _(u){if(Te.isUndefined(i[u])){if(!Te.isUndefined(e[u]))return x(void 0,e[u])}else return x(void 0,i[u])}function f(u){if(u in i)return x(e[u],i[u]);if(u in e)return x(void 0,e[u])}var y={url:E,method:E,data:E,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:f};return Te.forEach(Object.keys(e).concat(Object.keys(i)),function(a){var l=y[a]||b,p=l(a);Te.isUndefined(p)&&l!==f||(g[a]=p)}),g},_r={version:"0.24.0"},Yn=_r.version,jt={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){jt[r]=function(g){return typeof g===r||"a"+(e<1?"n ":" ")+r}});var pr={};jt.transitional=function(e,i,g){function x(b,E){return"[Axios v"+Yn+"] Transitional option '"+b+"'"+E+(g?". "+g:"")}return function(b,E,_){if(e===!1)throw new Error(x(E," has been removed"+(i?" in "+i:"")));return i&&!pr[E]&&(pr[E]=!0,console.warn(x(E," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(b,E,_):!0}};function qn(r,e,i){if(typeof r!="object")throw new TypeError("options must be an object");for(var g=Object.keys(r),x=g.length;x-- >0;){var b=g[x],E=e[b];if(E){var _=r[b],f=_===void 0||E(_,b,r);if(f!==!0)throw new TypeError("option "+b+" must be "+f);continue}if(i!==!0)throw Error("Unknown option "+b)}}var Qn={assertOptions:qn,validators:jt},mr=Pe,Jn=ir,vr=pn,gr=Xn,yt=fr,xr=Qn,Ze=xr.validators;function ot(r){this.defaults=r,this.interceptors={request:new vr,response:new vr}}ot.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=yt(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var i=e.transitional;i!==void 0&&xr.assertOptions(i,{silentJSONParsing:Ze.transitional(Ze.boolean),forcedJSONParsing:Ze.transitional(Ze.boolean),clarifyTimeoutError:Ze.transitional(Ze.boolean)},!1);var g=[],x=!0;this.interceptors.request.forEach(function(l){typeof l.runWhen=="function"&&l.runWhen(e)===!1||(x=x&&l.synchronous,g.unshift(l.fulfilled,l.rejected))});var b=[];this.interceptors.response.forEach(function(l){b.push(l.fulfilled,l.rejected)});var E;if(!x){var _=[gr,void 0];for(Array.prototype.unshift.apply(_,g),_=_.concat(b),E=Promise.resolve(e);_.length;)E=E.then(_.shift(),_.shift());return E}for(var f=e;g.length;){var y=g.shift(),u=g.shift();try{f=y(f)}catch(a){u(a);break}}try{E=gr(f)}catch(a){return Promise.reject(a)}for(;b.length;)E=E.then(b.shift(),b.shift());return E};ot.prototype.getUri=function(e){return e=yt(this.defaults,e),Jn(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};mr.forEach(["delete","get","head","options"],function(e){ot.prototype[e]=function(i,g){return this.request(yt(g||{},{method:e,url:i,data:(g||{}).data}))}});mr.forEach(["post","put","patch"],function(e){ot.prototype[e]=function(i,g,x){return this.request(yt(x||{},{method:e,url:i,data:g}))}});var Zn=ot,ei=mt;function et(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(x){e=x});var i=this;this.promise.then(function(g){if(!!i._listeners){var x,b=i._listeners.length;for(x=0;x<b;x++)i._listeners[x](g);i._listeners=null}}),this.promise.then=function(g){var x,b=new Promise(function(E){i.subscribe(E),x=E}).then(g);return b.cancel=function(){i.unsubscribe(x)},b},r(function(x){i.reason||(i.reason=new ei(x),e(i.reason))})}et.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};et.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};et.prototype.unsubscribe=function(e){if(!!this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};et.source=function(){var e,i=new et(function(x){e=x});return{token:i,cancel:e}};var ti=et,ri=function(e){return function(g){return e.apply(null,g)}},ni=function(e){return typeof e=="object"&&e.isAxiosError===!0},yr=Pe,ii=er,Et=Zn,si=fr,ai=xt;function Er(r){var e=new Et(r),i=ii(Et.prototype.request,e);return yr.extend(i,Et.prototype,e),yr.extend(i,e),i.create=function(x){return Er(si(r,x))},i}var ke=Er(ai);ke.Axios=Et;ke.Cancel=mt;ke.CancelToken=ti;ke.isCancel=cr;ke.VERSION=_r.version;ke.all=function(e){return Promise.all(e)};ke.spread=ri;ke.isAxiosError=ni;Ct.exports=ke;Ct.exports.default=ke;var de=Ct.exports;const _e="http://106.52.238.70:5000".replace(/\/+$/,"");class Nt{constructor(e,i=_e,g=de){this.basePath=i,this.axios=g,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class oi extends Error{constructor(e,i){super(i);this.field=e,this.name="RequiredError"}}const me="https://example.com",li=function(r,e,i){if(i==null)throw new oi(e,`Required parameter ${e} was null or undefined when calling ${r}.`)},ve=async function(r,e,i){if(i&&i.apiKey){const g=typeof i.apiKey=="function"?await i.apiKey(e):await i.apiKey;r[e]=g}},ge=function(r,...e){const i=new URLSearchParams(r.search);for(const g of e)for(const x in g)if(Array.isArray(g[x])){i.delete(x);for(const b of g[x])i.append(x,b)}else i.set(x,g[x]);r.search=i.toString()},tt=function(r,e,i){const g=typeof r!="string";return(g&&i&&i.isJsonMime?i.isJsonMime(e.headers["Content-Type"]):g)?JSON.stringify(r!==void 0?r:{}):r||""},xe=function(r){return r.pathname+r.search+r.hash},ye=function(r,e,i,g){return(x=e,b=i)=>{const E=Xt(F({},r.options),{url:((g==null?void 0:g.basePath)||b)+r.url});return x.request(E)}},ui=function(r){return{apiCaptchaEmailGet:async(e,i={})=>{const g="/api/Captcha/email",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.receiver=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiCaptchaIamgeGet:async(e={})=>{const i="/api/Captcha/iamge",g=new URL(i,me);let x;r&&(x=r.baseOptions);const b=F(F({method:"GET"},x),e),E={},_={};await ve(E,"Authorization",r),ge(g,_);let f=x&&x.headers?x.headers:{};return b.headers=F(F(F({},E),f),e.headers),{url:xe(g),options:b}},apiCaptchaVerificationEmailPost:async(e,i={})=>{const g="/api/Captcha/verification/email",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"POST"},b),i),_={},f={};await ve(_,"Authorization",r),_["Content-Type"]="application/json",ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),E.data=tt(e,E,r),{url:xe(x),options:E}},apiCaptchaVerificationImagePost:async(e,i={})=>{const g="/api/Captcha/verification/image",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"POST"},b),i),_={},f={};await ve(_,"Authorization",r),_["Content-Type"]="application/json",ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),E.data=tt(e,E,r),{url:xe(x),options:E}}}},bt=function(r){const e=ui(r);return{async apiCaptchaEmailGet(i,g){const x=await e.apiCaptchaEmailGet(i,g);return ye(x,de,_e,r)},async apiCaptchaIamgeGet(i){const g=await e.apiCaptchaIamgeGet(i);return ye(g,de,_e,r)},async apiCaptchaVerificationEmailPost(i,g){const x=await e.apiCaptchaVerificationEmailPost(i,g);return ye(x,de,_e,r)},async apiCaptchaVerificationImagePost(i,g){const x=await e.apiCaptchaVerificationImagePost(i,g);return ye(x,de,_e,r)}}};class di extends Nt{apiCaptchaEmailGet(e,i){return bt(this.configuration).apiCaptchaEmailGet(e,i).then(g=>g(this.axios,this.basePath))}apiCaptchaIamgeGet(e){return bt(this.configuration).apiCaptchaIamgeGet(e).then(i=>i(this.axios,this.basePath))}apiCaptchaVerificationEmailPost(e,i){return bt(this.configuration).apiCaptchaVerificationEmailPost(e,i).then(g=>g(this.axios,this.basePath))}apiCaptchaVerificationImagePost(e,i){return bt(this.configuration).apiCaptchaVerificationImagePost(e,i).then(g=>g(this.axios,this.basePath))}}const ci=function(r){return{apiLiveAddressPlayFlvGet:async(e,i={})=>{const g="/api/Live/address/play/flv",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.streamId=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiLiveAddressPlayHlsGet:async(e,i={})=>{const g="/api/Live/address/play/hls",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.streamId=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiLiveAddressPushGet:async(e,i={})=>{const g="/api/Live/address/push",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.id=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiLiveGet:async(e={})=>{const i="/api/Live",g=new URL(i,me);let x;r&&(x=r.baseOptions);const b=F(F({method:"GET"},x),e),E={},_={};await ve(E,"Authorization",r),ge(g,_);let f=x&&x.headers?x.headers:{};return b.headers=F(F(F({},E),f),e.headers),{url:xe(g),options:b}},apiLiveNameGet:async(e,i={})=>{li("apiLiveNameGet","name",e);const g="/api/Live/{name}".replace("{name}",encodeURIComponent(String(e))),x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiLiveNginxPushDonePost:async(e,i,g,x,b,E={})=>{const _="/api/Live/nginx/push_done",f=new URL(_,me);let y;r&&(y=r.baseOptions);const u=F(F({method:"POST"},y),E),a={},l={},p=new(r&&r.formDataCtor||FormData);await ve(a,"Authorization",r),e!==void 0&&p.append("addr",e),i!==void 0&&p.append("app",i),g!==void 0&&p.append("name",g),x!==void 0&&p.append("txSecret",x),b!==void 0&&p.append("txTime",b),a["Content-Type"]="multipart/form-data",ge(f,l);let s=y&&y.headers?y.headers:{};return u.headers=F(F(F({},a),s),E.headers),u.data=p,{url:xe(f),options:u}},apiLiveNginxPushPost:async(e,i,g,x,b,E={})=>{const _="/api/Live/nginx/push",f=new URL(_,me);let y;r&&(y=r.baseOptions);const u=F(F({method:"POST"},y),E),a={},l={},p=new(r&&r.formDataCtor||FormData);await ve(a,"Authorization",r),e!==void 0&&p.append("addr",e),i!==void 0&&p.append("app",i),g!==void 0&&p.append("name",g),x!==void 0&&p.append("txSecret",x),b!==void 0&&p.append("txTime",b),a["Content-Type"]="multipart/form-data",ge(f,l);let s=y&&y.headers?y.headers:{};return u.headers=F(F(F({},a),s),E.headers),u.data=p,{url:xe(f),options:u}}}},Ke=function(r){const e=ci(r);return{async apiLiveAddressPlayFlvGet(i,g){const x=await e.apiLiveAddressPlayFlvGet(i,g);return ye(x,de,_e,r)},async apiLiveAddressPlayHlsGet(i,g){const x=await e.apiLiveAddressPlayHlsGet(i,g);return ye(x,de,_e,r)},async apiLiveAddressPushGet(i,g){const x=await e.apiLiveAddressPushGet(i,g);return ye(x,de,_e,r)},async apiLiveGet(i){const g=await e.apiLiveGet(i);return ye(g,de,_e,r)},async apiLiveNameGet(i,g){const x=await e.apiLiveNameGet(i,g);return ye(x,de,_e,r)},async apiLiveNginxPushDonePost(i,g,x,b,E,_){const f=await e.apiLiveNginxPushDonePost(i,g,x,b,E,_);return ye(f,de,_e,r)},async apiLiveNginxPushPost(i,g,x,b,E,_){const f=await e.apiLiveNginxPushPost(i,g,x,b,E,_);return ye(f,de,_e,r)}}};class St extends Nt{apiLiveAddressPlayFlvGet(e,i){return Ke(this.configuration).apiLiveAddressPlayFlvGet(e,i).then(g=>g(this.axios,this.basePath))}apiLiveAddressPlayHlsGet(e,i){return Ke(this.configuration).apiLiveAddressPlayHlsGet(e,i).then(g=>g(this.axios,this.basePath))}apiLiveAddressPushGet(e,i){return Ke(this.configuration).apiLiveAddressPushGet(e,i).then(g=>g(this.axios,this.basePath))}apiLiveGet(e){return Ke(this.configuration).apiLiveGet(e).then(i=>i(this.axios,this.basePath))}apiLiveNameGet(e,i){return Ke(this.configuration).apiLiveNameGet(e,i).then(g=>g(this.axios,this.basePath))}apiLiveNginxPushDonePost(e,i,g,x,b,E){return Ke(this.configuration).apiLiveNginxPushDonePost(e,i,g,x,b,E).then(_=>_(this.axios,this.basePath))}apiLiveNginxPushPost(e,i,g,x,b,E){return Ke(this.configuration).apiLiveNginxPushPost(e,i,g,x,b,E).then(_=>_(this.axios,this.basePath))}}const hi=function(r){return{apiUserAlterationPost:async(e,i,g={})=>{const x="/api/User/alteration",b=new URL(x,me);let E;r&&(E=r.baseOptions);const _=F(F({method:"POST"},E),g),f={},y={};await ve(f,"Authorization",r),e!==void 0&&(y.id=e),f["Content-Type"]="application/json",ge(b,y);let u=E&&E.headers?E.headers:{};return _.headers=F(F(F({},f),u),g.headers),_.data=tt(i,_,r),{url:xe(b),options:_}},apiUserCoreAlterationPost:async(e,i,g={})=>{const x="/api/User/core-alteration",b=new URL(x,me);let E;r&&(E=r.baseOptions);const _=F(F({method:"POST"},E),g),f={},y={};await ve(f,"Authorization",r),e!==void 0&&(y.id=e),f["Content-Type"]="application/json",ge(b,y);let u=E&&E.headers?E.headers:{};return _.headers=F(F(F({},f),u),g.headers),_.data=tt(i,_,r),{url:xe(b),options:_}},apiUserGet:async(e,i={})=>{const g="/api/User",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.id=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiUserLoginPost:async(e,i={})=>{const g="/api/User/login",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"POST"},b),i),_={},f={};await ve(_,"Authorization",r),_["Content-Type"]="application/json",ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),E.data=tt(e,E,r),{url:xe(x),options:E}},apiUserSignupPost:async(e,i={})=>{const g="/api/User/signup",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"POST"},b),i),_={},f={};await ve(_,"Authorization",r),_["Content-Type"]="application/json",ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),E.data=tt(e,E,r),{url:xe(x),options:E}},apiUserTokenGet:async(e,i={})=>{const g="/api/User/token",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.id=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiUserValidEmailGet:async(e,i={})=>{const g="/api/User/valid-email",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.email=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}},apiUserValidNameGet:async(e,i={})=>{const g="/api/User/valid-name",x=new URL(g,me);let b;r&&(b=r.baseOptions);const E=F(F({method:"GET"},b),i),_={},f={};await ve(_,"Authorization",r),e!==void 0&&(f.name=e),ge(x,f);let y=b&&b.headers?b.headers:{};return E.headers=F(F(F({},_),y),i.headers),{url:xe(x),options:E}}}},ze=function(r){const e=hi(r);return{async apiUserAlterationPost(i,g,x){const b=await e.apiUserAlterationPost(i,g,x);return ye(b,de,_e,r)},async apiUserCoreAlterationPost(i,g,x){const b=await e.apiUserCoreAlterationPost(i,g,x);return ye(b,de,_e,r)},async apiUserGet(i,g){const x=await e.apiUserGet(i,g);return ye(x,de,_e,r)},async apiUserLoginPost(i,g){const x=await e.apiUserLoginPost(i,g);return ye(x,de,_e,r)},async apiUserSignupPost(i,g){const x=await e.apiUserSignupPost(i,g);return ye(x,de,_e,r)},async apiUserTokenGet(i,g){const x=await e.apiUserTokenGet(i,g);return ye(x,de,_e,r)},async apiUserValidEmailGet(i,g){const x=await e.apiUserValidEmailGet(i,g);return ye(x,de,_e,r)},async apiUserValidNameGet(i,g){const x=await e.apiUserValidNameGet(i,g);return ye(x,de,_e,r)}}};class Vt extends Nt{apiUserAlterationPost(e,i,g){return ze(this.configuration).apiUserAlterationPost(e,i,g).then(x=>x(this.axios,this.basePath))}apiUserCoreAlterationPost(e,i,g){return ze(this.configuration).apiUserCoreAlterationPost(e,i,g).then(x=>x(this.axios,this.basePath))}apiUserGet(e,i){return ze(this.configuration).apiUserGet(e,i).then(g=>g(this.axios,this.basePath))}apiUserLoginPost(e,i){return ze(this.configuration).apiUserLoginPost(e,i).then(g=>g(this.axios,this.basePath))}apiUserSignupPost(e,i){return ze(this.configuration).apiUserSignupPost(e,i).then(g=>g(this.axios,this.basePath))}apiUserTokenGet(e,i){return ze(this.configuration).apiUserTokenGet(e,i).then(g=>g(this.axios,this.basePath))}apiUserValidEmailGet(e,i){return ze(this.configuration).apiUserValidEmailGet(e,i).then(g=>g(this.axios,this.basePath))}apiUserValidNameGet(e,i){return ze(this.configuration).apiUserValidNameGet(e,i).then(g=>g(this.axios,this.basePath))}}const fi={class:"overflow-hidden"},_i={class:"card-body px-2 py-0"},pi={class:"card-title mb-1"},mi={class:"d-flex justify-content-between"},vi={class:"small director"},gi=Ye({props:{liveId:null},setup(r){const e=r,i=Y(),g=Y(),x=Y(),b=Y(!0),E=Y(0);st(()=>{qe(()=>{const u=new St;u.apiLiveNameGet(e.liveId.toString()).then(a=>{a.status===200&&(x.value=a.data.director,g.value=a.data.name)}),u.apiLiveAddressPlayFlvGet(e.liveId).then(a=>{a.status===200&&(i.value=a.data.address)})})});function _(){b.value=!0}function f(){b.value=!1}function y(){nt.push("/live/"+e.liveId.toString())}return(u,a)=>(ee(),re("div",{class:"card tv-card p-0 border-0",onClick:y},[T("div",fi,[T("div",{class:"min-player",onMouseover:_,onMouseleave:f},[Ue(Zt,{video_src:i.value,playing:b.value,volume:E.value},null,8,["video_src","playing","volume"])],32)]),T("div",_i,[T("div",pi,Fe(g.value),1),T("div",mi,[T("div",vi,Fe(x.value),1)])])]))}});var xi=Qe(gi,[["__scopeId","data-v-28162cda"]]);const yi={class:"row"},Ei={key:0,class:"col-12 text-center"},bi=Ye({setup(r){const e=Y(),i=Y(!0);return st(()=>{qe(()=>{new St().apiLiveGet().then(x=>{if(x.status===200){var b=x.data;e.value=b.lives,i.value=!e.value.length}})})}),(g,x)=>(ee(),re("div",yi,[i.value?(ee(),re("div",Ei,"\u4EC0\u4E48\u90FD\u6CA1\u6709~~~")):(ee(!0),re(qt,{key:1},jr(e.value,(b,E)=>(ee(),Ot(xi,{class:"col-3",liveId:b.id,attendance:"2000",key:E},null,8,["liveId"]))),128))]))}}),Si={class:"px-4 py-3 d-flex flex-column justify-content-center",style:{"min-width":"20em"}},Li=T("label",{for:"userInputBox"},"\u7528\u6237",-1),Ai=T("label",{for:"userPasswordInputBox"},"\u5BC6\u7801",-1),wi=T("a",{class:"form-text",href:"javascript:;"},"\u5FD8\u8BB0\u5BC6\u7801\uFF1F",-1),Oi=T("br",null,null,-1),Ri={emits:["logined"],setup(r,{emit:e}){const i=Y(""),g=Y(""),x=new Vt;st(()=>{qe(()=>{localStorage.getItem("token")!=null&&(de.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),e("logined"))})});function b(){nt.push("/signup")}function E(){x.apiUserLoginPost({name:i.value,password:g.value}).then(_=>{switch(_.status){case 200:localStorage.setItem("token",_.data.token),de.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),e("logined");break;case 401:console.log(_.data.msg);break}})}return(_,f)=>(ee(),re("div",Si,[Li,je(T("input",{type:"text",class:"form-control","onUpdate:modelValue":f[0]||(f[0]=y=>i.value=y),id:"userInputBox"},null,512),[[Ne,i.value]]),Ai,je(T("input",{type:"password",class:"form-control","onUpdate:modelValue":f[1]||(f[1]=y=>g.value=y),id:"userPasswordInputBox"},null,512),[[Ne,g.value]]),T("div",{class:"d-flex flex-row justify-content-between"},[wi,T("a",{class:"form-text",href:"javascript:;",onClick:b},"\u6CE8\u518C")]),Oi,T("button",{type:"button",class:"btn btn-primary w-25",onClick:E}," \u767B\u5F55 ")]))}};const rt=r=>(ut("data-v-61c9facc"),r=r(),dt(),r),Ci={class:"px-4 py-3"},Pi={class:"d-flex flex-column justify-content-center"},Ti=rt(()=>T("svg",{t:"1636988377253",class:"icon align-self-center",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2875",width:"4em",height:"4em"},[T("path",{d:"M761.8 600.9c-64 57.6-147.2 96-243.2 96s-179.2-38.4-249.6-96C108.8 684.2 0 793 0 991.4H1024.2c0-198.4-108.8-300.8-262.4-390.5z m-249.7 19.2c160 0 288.1-134.4 288.1-294.5 0-160-128-294.5-288.1-294.5s-288 134.6-288 294.6c0 166.4 134.4 294.4 288 294.4z m0 0",fill:"#8a8a8a","p-id":"2876"})],-1)),Di={class:"align-self-center"},Ii={class:"table table-borderless table-sm mt-3"},Mi=rt(()=>T("td",{align:"right"},"id:",-1)),Fi=rt(()=>T("td",{align:"right"},"email:",-1)),ki=rt(()=>T("div",{class:"dropdown-divider"},null,-1)),Bi={key:0,class:"position-fixed w-100 h-100 bg-translucent"},Ui={class:"modal-dialog"},ji={class:"modal-content"},Ni={class:"modal-header"},Vi=rt(()=>T("span",{"aria-hidden":"true"},"\xD7",-1)),Gi=[Vi],zi=rt(()=>T("div",{class:"modal-body"}," \u9000\u51FA\u767B\u5F55\u5C06\u65E0\u6CD5\u4EAB\u53D7\u67D0\u4E9B\u529F\u80FD\uFF0C\u786E\u5B9A\u9000\u51FA\uFF1F ",-1)),Wi={class:"modal-footer"},Hi=Ye({emits:["logout"],setup(r,{emit:e}){const i=Y(""),g=Y(null),x=Y();new Vt().apiUserGet().then(y=>{i.value=y.data.name,g.value=y.data.id,x.value=y.data.email});function E(){localStorage.removeItem("token"),de.defaults.headers.common.Authorization="",e("logout")}const _=Y(!1);function f(){_.value=!0}return(y,u)=>(ee(),re("div",null,[T("div",Ci,[T("div",Pi,[Ti,T("span",Di,Fe(i.value),1),T("table",Ii,[T("tbody",null,[T("tr",null,[Mi,T("td",null,Fe(g.value),1)]),T("tr",null,[Fi,T("td",null,Fe(x.value),1)])])])])]),ki,T("button",{class:"btn dropdown-item text-center",onClick:f}," \u767B\u51FA "),_.value?(ee(),re("div",Bi,[T("div",Ui,[T("div",ji,[T("div",Ni,[T("button",{type:"button",class:"close",onClick:u[0]||(u[0]=a=>_.value=!1)},Gi)]),zi,T("div",Wi,[T("button",{type:"button",class:"btn btn-secondary",onClick:u[1]||(u[1]=a=>_.value=!1)}," \u53D6\u6D88 "),T("button",{type:"button",class:"btn btn-primary",onClick:E}," \u786E\u5B9A ")])])])])):Oe("",!0)]))}});var Ki=Qe(Hi,[["__scopeId","data-v-61c9facc"]]);const $i=Rt('<div class="h5">\u5F00\u59CB\u4F60\u7684Live</div><div class="dropdown-divider mt-4 mb-3"></div><div class="text-secondary mb-2">\u4ECE\u4E13\u5C5E\u4E8E Link TV \u7684\u63A8\u6D41\u5668\u5F00\u59CB\u3002</div><button class="btn btn-primary btn-sm">\u4E0B\u8F7DLinkme</button><div class="my-2"><br></div><div class="text-secondary">\u4ECE\u5176\u4ED6\u63A8\u6D41\u8F6F\u4EF6\uFF0C\u5982OBS\u5F00\u59CB\u3002</div>',6),Xi={key:0,class:"text-danger"},Yi={key:1},qi=T("div",{class:"text-secondary mb-2"},"\u590D\u5236\u4EE5\u4E0B\u63A8\u6D41\u5730\u5740\u5230\u63A8\u6D41\u8F6F\u4EF6\uFF1A",-1),Qi={class:"input-group"},Ji=T("div",{class:"small text-secondary"},"\u8BE5\u5730\u5740\u4EC524\u5C0F\u65F6\u5185\u6709\u6548\u3002",-1),Zi={props:{logined:Boolean},setup(r){const e=r,i=Y("");at(()=>e.logined,()=>{e.logined?new St().apiLiveAddressPushGet().then(E=>{E.status==200&&(i.value=E.data.address)}):i.value=""});const g=Y(null);function x(){g.value.select(),document.execCommand("Copy"),console.log("\u590D\u5236\u6210\u529F")}return(b,E)=>(ee(),re(qt,null,[$i,i.value==""?(ee(),re("div",Xi,"\u767B\u5F55\u4EE5\u83B7\u53D6\u63A8\u6D41\u5730\u5740")):(ee(),re("div",Yi,[qi,T("div",Qi,[je(T("input",{type:"text",readonly:"true","onUpdate:modelValue":E[0]||(E[0]=_=>i.value=_),class:"form-control",ref:(_,f)=>{f.pushUrlElement=_,g.value=_}},null,512),[[Ne,i.value]]),T("span",{class:"input-group-append"},[T("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:x}," \u590D\u5236 ")])]),Ji]))],64))}},es={class:"navbar navbar-expand-sm navbar-light"},ts=T("a",{class:"navbar-brand",href:"javascript:;"},[T("strong",null,"Link TV")],-1),rs=T("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggle","aria-controls":"navbarToggle","aria-expanded":"false","aria-label":"Toggle navigation"},[T("span",{class:"navbar-toggler-icon"})],-1),ns={id:"navbarToggle",class:"collapse navbar-collapse"},is=Rt('<ul class="navbar-nav mr-auto"><li class="nav-item"><form class="form-inline"><input class="form-control"><button class="btn">\u67E5\u627E</button></form></li></ul>',1),ss=T("button",{type:"button",class:"btn"},[T("svg",{t:"1634997811697",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6372",width:"1.5em",height:"1.5em"},[T("path",{d:"M511.73808594 93.19941406c-140.67070313 0-264.92695313 69.1453125-341.01035156 175.08955078v-70.47597656c0-21.66767578-17.61679688-39.22998047-39.346875-39.22998047s-39.346875 17.56318359-39.346875 39.22998047v156.91992188c0 21.66240234 17.61679688 39.22998047 39.346875 39.22998047h170.50341796c21.73007813 0 39.346875-17.56669922 39.346875-39.22998047 0-21.66767578-17.61679688-39.22998047-39.346875-39.22998047h-68.4421875c61.73085937-86.98798828 163.28496094-143.84267578 278.296875-143.84267578 188.32851562 0 341.00507812 152.22128906 341.00507813 339.99345703 0 187.76865234-152.6765625 339.99345703-341.00507813 339.99345703-158.73574219 0-291.74589844-108.29179688-329.75771484-254.70439453l-0.68291016 0.21269531c-5.3015625-15.41162109-19.54248047-26.65986328-36.8024414-26.65986328-21.73007813 0-39.346875 17.56318359-39.346875 39.22558594 0 3.86630859 1.16367187 7.36875 2.20605469 10.89316406l-0.40957032 0.12919922c0.25839844 0.95009766 0.73212891 1.8 0.99580078 2.74482422 0.28916016 0.76201172 0.48164063 1.52314453 0.81650391 2.2640625 49.92539062 175.47011719 210.98935547 304.35380859 402.98378906 304.35380859 231.79394531 0 419.69970703-187.35029297 419.69970703-418.45341797-0.00175781-231.10751953-187.90839844-418.45429688-419.70322265-418.45429687z m0 176.53183594c-21.73007813 0-39.346875 17.56318359-39.346875 39.22998047v235.37988281c0 21.66767578 17.61679688 39.22998047 39.346875 39.22998047h170.50253906c21.73007813 0 39.346875-17.56318359 39.346875-39.22558594 0-21.67119141-17.61679688-39.22998047-39.346875-39.22998047H551.08496094v-196.15429687c0-21.66767578-17.61767578-39.22998047-39.34775391-39.22998047z","p-id":"6373"})])],-1),as={class:"dropdown"},os=T("button",{type:"button",class:"btn",role:"button","data-toggle":"dropdown","aria-expanded":"false"},[T("svg",{t:"1634997536655",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4087",width:"1.5em",height:"1.5em"},[T("path",{d:"M800 330.9V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v512c0 35.3 28.7 64 64 64h672c35.3 0 64-28.7 64-64v-74.9c0-11.6 11.9-19.3 22.5-14.6L934 728c42.3 18.8 90-12.2 90-58.5v-315c0-46.3-47.7-77.3-90-58.5l-111.5 49.6c-10.6 4.7-22.5-3.1-22.5-14.7zM720 768H80c-8.8 0-16-7.2-16-16V272c0-8.8 7.2-16 16-16h640c8.8 0 16 7.2 16 16v480c0 8.8-7.2 16-16 16z m217.5-108.5l-128-56.9c-5.8-2.6-9.5-8.3-9.5-14.6V436c0-6.3 3.7-12.1 9.5-14.6l128-56.9c10.6-4.7 22.5 3 22.5 14.6v265.8c0 11.6-11.9 19.3-22.5 14.6z","p-id":"4088"}),T("path",{d:"M332.4 445.4L447.9 512l-115.4 66.6V445.4m-16-75.8c-25.1 0-48.1 20-48.1 48.1v188.7c0 28 23 48.1 48.1 48.1 8 0 16.2-2 23.9-6.5l163.4-94.4c32-18.5 32-64.7 0-83.1l-163.4-94.4c-7.7-4.5-15.9-6.5-23.9-6.5z","p-id":"4089"})])],-1),ls={class:"dropdown-menu dropdown-menu-right p-4",style:{"min-width":"20em"}},us={class:"dropdown"},ds=T("button",{class:"btn",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false"},[T("svg",{t:"1634873118556",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2728",width:"1.5em",height:"1.5em"},[T("path",{d:"M500 128.8c-95.2 5.6-173.6 83.2-180 178.4-7.2 112 80.8 205.6 191.2 205.6 106.4 0 192-86.4 192-192 0.8-110.4-92-198.4-203.2-192zM512 575.2c-128 0-383.2 64-383.2 192v96c0 17.6 14.4 32 32 32h702.4c17.6 0 32-14.4 32-32V766.4c0-127.2-255.2-191.2-383.2-191.2z","p-id":"2729"})])],-1),cs={class:"dropdown-menu dropdown-menu-right"},br={emits:["signup","logined"],setup(r,{emit:e}){const i=Y(!1);function g(){e("logined"),i.value=!0}function x(){i.value=!1}return(b,E)=>(ee(),re("nav",es,[ts,rs,T("div",ns,[is,ss,T("div",as,[os,T("div",ls,[Ue(Zi,{logined:i.value},null,8,["logined"])])]),T("div",us,[ds,T("div",cs,[i.value?(ee(),Ot(Ki,{key:1,onLogout:x})):(ee(),Ot(Ri,{key:0,onLogined:g,onLogout:x}))])])])]))}},hs={class:"container"},fs=T("div",{class:"row"},[T("br")],-1),_s=T("h4",{class:"row"},"\u6B63\u5728\u76F4\u64AD",-1),ps={setup(r){return Y(!1),Y(!0),(e,i)=>(ee(),re("div",null,[Ue(br),T("div",hs,[fs,_s,Ue(bi)])]))}};var Sr={exports:{}};/*!
 * element-resize-detector 1.2.3
 * Copyright (c) 2016 Lucas Wiener
 * https://github.com/wnr/element-resize-detector
 * Licensed under MIT
 */(function(r,e){(function(i){r.exports=i()})(function(){return function(){function i(g,x,b){function E(y,u){if(!x[y]){if(!g[y]){var a=typeof ct=="function"&&ct;if(!u&&a)return a(y,!0);if(_)return _(y,!0);var l=new Error("Cannot find module '"+y+"'");throw l.code="MODULE_NOT_FOUND",l}var p=x[y]={exports:{}};g[y][0].call(p.exports,function(s){var h=g[y][1][s];return E(h||s)},p,p.exports,i,g,x,b)}return x[y].exports}for(var _=typeof ct=="function"&&ct,f=0;f<b.length;f++)E(b[f]);return E}return i}()({1:[function(i,g,x){var b=i("./utils");g.exports=function(f){f=f||{};var y=f.reporter,u=b.getOption(f,"async",!0),a=b.getOption(f,"auto",!0);a&&!u&&(y&&y.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),u=!0);var l=E(),p,s=!1;function h(t,v){!s&&a&&u&&l.size()===0&&n(),l.add(t,v)}function m(){for(s=!0;l.size();){var t=l;l=E(),t.process()}s=!1}function d(t){s||(t===void 0&&(t=u),p&&(c(p),p=null),t?n():m())}function n(){p=o(m)}function c(t){var v=clearTimeout;return v(t)}function o(t){var v=function(S){return setTimeout(S,0)};return v(t)}return{add:h,force:d}};function E(){var _={},f=0,y=0,u=0;function a(s,h){h||(h=s,s=0),s>y?y=s:s<u&&(u=s),_[s]||(_[s]=[]),_[s].push(h),f++}function l(){for(var s=u;s<=y;s++)for(var h=_[s],m=0;m<h.length;m++){var d=h[m];d()}}function p(){return f}return{add:a,process:l,size:p}}},{"./utils":2}],2:[function(i,g,x){var b=g.exports={};b.getOption=E;function E(_,f,y){var u=_[f];return u==null&&y!==void 0?y:u}},{}],3:[function(i,g,x){var b=g.exports={};b.isIE=function(E){function _(){var y=navigator.userAgent.toLowerCase();return y.indexOf("msie")!==-1||y.indexOf("trident")!==-1||y.indexOf(" edge/")!==-1}if(!_())return!1;if(!E)return!0;var f=function(){var y,u=3,a=document.createElement("div"),l=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++u+"]><i></i><![endif]-->";while(l[0]);return u>4?u:y}();return E===f},b.isLegacyOpera=function(){return!!window.opera}},{}],4:[function(i,g,x){var b=g.exports={};b.forEach=function(E,_){for(var f=0;f<E.length;f++){var y=_(E[f]);if(y)return y}}},{}],5:[function(i,g,x){var b=i("../browser-detector");g.exports=function(E){E=E||{};var _=E.reporter,f=E.batchProcessor,y=E.stateHandler.getState;if(!_)throw new Error("Missing required dependency: reporter.");function u(h,m){function d(){m(h)}if(b.isIE(8))y(h).object={proxy:d},h.attachEvent("onresize",d);else{var n=p(h);if(!n)throw new Error("Element is not detectable by this strategy.");n.contentDocument.defaultView.addEventListener("resize",d)}}function a(h){var m=E.important?" !important; ":"; ";return(h.join(m)+m).trim()}function l(h,m,d){d||(d=m,m=h,h=null),h=h||{},h.debug;function n(c,o){var t=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),v=!1,S=window.getComputedStyle(c),A=c.offsetWidth,C=c.offsetHeight;y(c).startSize={width:A,height:C};function R(){function L(){if(S.position==="static"){c.style.setProperty("position","relative",h.important?"important":"");var P=function(M,D,k,G){function K(Z){return Z.replace(/[^-\d\.]/g,"")}var W=k[G];W!=="auto"&&K(W)!=="0"&&(M.warn("An element that is positioned static has style."+G+"="+W+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+G+" will be set to 0. Element: ",D),D.style.setProperty(G,"0",h.important?"important":""))};P(_,c,S,"top"),P(_,c,S,"right"),P(_,c,S,"bottom"),P(_,c,S,"left")}}function w(){v||L();function P(D,k){if(!D.contentDocument){var G=y(D);G.checkForObjectDocumentTimeoutId&&window.clearTimeout(G.checkForObjectDocumentTimeoutId),G.checkForObjectDocumentTimeoutId=setTimeout(function(){G.checkForObjectDocumentTimeoutId=0,P(D,k)},100);return}k(D.contentDocument)}var M=this;P(M,function(k){o(c)})}S.position!==""&&(L(),v=!0);var O=document.createElement("object");O.style.cssText=t,O.tabIndex=-1,O.type="text/html",O.setAttribute("aria-hidden","true"),O.onload=w,b.isIE()||(O.data="about:blank"),!!y(c)&&(c.appendChild(O),y(c).object=O,b.isIE()&&(O.data="about:blank"))}f?f.add(R):R()}b.isIE(8)?d(m):n(m,d)}function p(h){return y(h).object}function s(h){if(!!y(h)){var m=p(h);!m||(b.isIE(8)?h.detachEvent("onresize",m.proxy):h.removeChild(m),y(h).checkForObjectDocumentTimeoutId&&window.clearTimeout(y(h).checkForObjectDocumentTimeoutId),delete y(h).object)}}return{makeDetectable:l,addListener:u,uninstall:s}}},{"../browser-detector":3}],6:[function(i,g,x){var b=i("../collection-utils").forEach;g.exports=function(E){E=E||{};var _=E.reporter,f=E.batchProcessor,y=E.stateHandler.getState;E.stateHandler.hasState;var u=E.idHandler;if(!f)throw new Error("Missing required dependency: batchProcessor");if(!_)throw new Error("Missing required dependency: reporter.");var a=m(),l="erd_scroll_detection_scrollbar_style",p="erd_scroll_detection_container";function s(R){d(R,l,p)}s(window.document);function h(R){var L=E.important?" !important; ":"; ";return(R.join(L)+L).trim()}function m(){var R=500,L=500,w=document.createElement("div");w.style.cssText=h(["position: absolute","width: "+R*2+"px","height: "+L*2+"px","visibility: hidden","margin: 0","padding: 0"]);var O=document.createElement("div");O.style.cssText=h(["position: absolute","width: "+R+"px","height: "+L+"px","overflow: scroll","visibility: none","top: "+-R*3+"px","left: "+-L*3+"px","visibility: hidden","margin: 0","padding: 0"]),O.appendChild(w),document.body.insertBefore(O,document.body.firstChild);var P=R-O.clientWidth,M=L-O.clientHeight;return document.body.removeChild(O),{width:P,height:M}}function d(R,L,w){function O(k,G){G=G||function(W){R.head.appendChild(W)};var K=R.createElement("style");return K.innerHTML=k,K.id=L,G(K),K}if(!R.getElementById(L)){var P=w+"_animation",M=w+"_animation_active",D=`/* Created by the element-resize-detector library. */
`;D+="."+w+" > div::-webkit-scrollbar { "+h(["display: none"])+` }

`,D+="."+M+" { "+h(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+P,"animation-name: "+P])+` }
`,D+="@-webkit-keyframes "+P+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,D+="@keyframes "+P+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",O(D)}}function n(R){R.className+=" "+p+"_animation_active"}function c(R,L,w){if(R.addEventListener)R.addEventListener(L,w);else if(R.attachEvent)R.attachEvent("on"+L,w);else return _.error("[scroll] Don't know how to add event listeners.")}function o(R,L,w){if(R.removeEventListener)R.removeEventListener(L,w);else if(R.detachEvent)R.detachEvent("on"+L,w);else return _.error("[scroll] Don't know how to remove event listeners.")}function t(R){return y(R).container.childNodes[0].childNodes[0].childNodes[0]}function v(R){return y(R).container.childNodes[0].childNodes[0].childNodes[1]}function S(R,L){var w=y(R).listeners;if(!w.push)throw new Error("Cannot add listener to an element that is not detectable.");y(R).listeners.push(L)}function A(R,L,w){w||(w=L,L=R,R=null),R=R||{};function O(){if(R.debug){var j=Array.prototype.slice.call(arguments);if(j.unshift(u.get(L),"Scroll: "),_.log.apply)_.log.apply(null,j);else for(var q=0;q<j.length;q++)_.log(j[q])}}function P(j){function q(te){var ce=te.getRootNode&&te.getRootNode().contains(te);return te===te.ownerDocument.body||te.ownerDocument.body.contains(te)||ce}return!q(j)||window.getComputedStyle(j)===null}function M(j){var q=y(j).container.childNodes[0],te=window.getComputedStyle(q);return!te.width||te.width.indexOf("px")===-1}function D(){var j=window.getComputedStyle(L),q={};return q.position=j.position,q.width=L.offsetWidth,q.height=L.offsetHeight,q.top=j.top,q.right=j.right,q.bottom=j.bottom,q.left=j.left,q.widthCSS=j.width,q.heightCSS=j.height,q}function k(){var j=D();y(L).startSize={width:j.width,height:j.height},O("Element start size",y(L).startSize)}function G(){y(L).listeners=[]}function K(){if(O("storeStyle invoked."),!y(L)){O("Aborting because element has been uninstalled");return}var j=D();y(L).style=j}function W(j,q,te){y(j).lastWidth=q,y(j).lastHeight=te}function Z(j){return t(j).childNodes[0]}function X(){return 2*a.width+1}function V(){return 2*a.height+1}function Q(j){return j+10+X()}function Ae(j){return j+10+V()}function se(j){return j*2+X()}function ie(j){return j*2+V()}function pe(j,q,te){var ce=t(j),we=v(j),Ce=Q(q),be=Ae(te),ae=se(q),ne=ie(te);ce.scrollLeft=Ce,ce.scrollTop=be,we.scrollLeft=ae,we.scrollTop=ne}function le(){var j=y(L).container;if(!j){j=document.createElement("div"),j.className=p,j.style.cssText=h(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),y(L).container=j,n(j),L.appendChild(j);var q=function(){y(L).onRendered&&y(L).onRendered()};c(j,"animationstart",q),y(L).onAnimationStart=q}return j}function ue(){function j(){var H=y(L).style;if(H.position==="static"){L.style.setProperty("position","relative",R.important?"important":"");var $=function(oe,Re,Xe,Ve){function it(Tr){return Tr.replace(/[^-\d\.]/g,"")}var wt=Xe[Ve];wt!=="auto"&&it(wt)!=="0"&&(oe.warn("An element that is positioned static has style."+Ve+"="+wt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ve+" will be set to 0. Element: ",Re),Re.style[Ve]=0)};$(_,L,H,"top"),$(_,L,H,"right"),$(_,L,H,"bottom"),$(_,L,H,"left")}}function q(H,$,oe,Re){return H=H?H+"px":"0",$=$?$+"px":"0",oe=oe?oe+"px":"0",Re=Re?Re+"px":"0",["left: "+H,"top: "+$,"right: "+Re,"bottom: "+oe]}if(O("Injecting elements"),!y(L)){O("Aborting because element has been uninstalled");return}j();var te=y(L).container;te||(te=le());var ce=a.width,we=a.height,Ce=h(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),be=h(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(q(-(1+ce),-(1+we),-we,-ce))),ae=h(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ne=h(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Se=h(["position: absolute","left: 0","top: 0"]),Be=h(["position: absolute","width: 200%","height: 200%"]),De=document.createElement("div"),Ie=document.createElement("div"),he=document.createElement("div"),lt=document.createElement("div"),I=document.createElement("div"),B=document.createElement("div");De.dir="ltr",De.style.cssText=Ce,De.className=p,Ie.className=p,Ie.style.cssText=be,he.style.cssText=ae,lt.style.cssText=Se,I.style.cssText=ne,B.style.cssText=Be,he.appendChild(lt),I.appendChild(B),Ie.appendChild(he),Ie.appendChild(I),De.appendChild(Ie),te.appendChild(De);function U(){y(L).onExpand&&y(L).onExpand()}function z(){y(L).onShrink&&y(L).onShrink()}c(he,"scroll",U),c(I,"scroll",z),y(L).onExpandScroll=U,y(L).onShrinkScroll=z}function Ee(){function j(ae,ne,Se){var Be=Z(ae),De=Q(ne),Ie=Ae(Se);Be.style.setProperty("width",De+"px",R.important?"important":""),Be.style.setProperty("height",Ie+"px",R.important?"important":"")}function q(ae){var ne=L.offsetWidth,Se=L.offsetHeight,Be=ne!==y(L).lastWidth||Se!==y(L).lastHeight;O("Storing current size",ne,Se),W(L,ne,Se),f.add(0,function(){if(!!Be){if(!y(L)){O("Aborting because element has been uninstalled");return}if(!te()){O("Aborting because element container has not been initialized");return}if(R.debug){var Ie=L.offsetWidth,he=L.offsetHeight;(Ie!==ne||he!==Se)&&_.warn(u.get(L),"Scroll: Size changed before updating detector elements.")}j(L,ne,Se)}}),f.add(1,function(){if(!y(L)){O("Aborting because element has been uninstalled");return}if(!te()){O("Aborting because element container has not been initialized");return}pe(L,ne,Se)}),Be&&ae&&f.add(2,function(){if(!y(L)){O("Aborting because element has been uninstalled");return}if(!te()){O("Aborting because element container has not been initialized");return}ae()})}function te(){return!!y(L).container}function ce(){function ae(){return y(L).lastNotifiedWidth===void 0}O("notifyListenersIfNeeded invoked");var ne=y(L);if(ae()&&ne.lastWidth===ne.startSize.width&&ne.lastHeight===ne.startSize.height)return O("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(ne.lastWidth===ne.lastNotifiedWidth&&ne.lastHeight===ne.lastNotifiedHeight)return O("Not notifying: Size already notified");O("Current size not notified, notifying..."),ne.lastNotifiedWidth=ne.lastWidth,ne.lastNotifiedHeight=ne.lastHeight,b(y(L).listeners,function(Se){Se(L)})}function we(){if(O("startanimation triggered."),M(L)){O("Ignoring since element is still unrendered...");return}O("Element rendered.");var ae=t(L),ne=v(L);(ae.scrollLeft===0||ae.scrollTop===0||ne.scrollLeft===0||ne.scrollTop===0)&&(O("Scrollbars out of sync. Updating detector elements..."),q(ce))}function Ce(){if(O("Scroll detected."),M(L)){O("Scroll event fired while unrendered. Ignoring...");return}q(ce)}if(O("registerListenersAndPositionElements invoked."),!y(L)){O("Aborting because element has been uninstalled");return}y(L).onRendered=we,y(L).onExpand=Ce,y(L).onShrink=Ce;var be=y(L).style;j(L,be.width,be.height)}function J(){if(O("finalizeDomMutation invoked."),!y(L)){O("Aborting because element has been uninstalled");return}var j=y(L).style;W(L,j.width,j.height),pe(L,j.width,j.height)}function N(){w(L)}function fe(){O("Installing..."),G(),k(),f.add(0,K),f.add(1,ue),f.add(2,Ee),f.add(3,J),f.add(4,N)}O("Making detectable..."),P(L)?(O("Element is detached"),le(),O("Waiting until element is attached..."),y(L).onRendered=function(){O("Element is now attached"),fe()}):fe()}function C(R){var L=y(R);!L||(L.onExpandScroll&&o(t(R),"scroll",L.onExpandScroll),L.onShrinkScroll&&o(v(R),"scroll",L.onShrinkScroll),L.onAnimationStart&&o(L.container,"animationstart",L.onAnimationStart),L.container&&R.removeChild(L.container))}return{makeDetectable:A,addListener:S,uninstall:C,initDocument:s}}},{"../collection-utils":4}],7:[function(i,g,x){var b=i("./collection-utils").forEach,E=i("./element-utils"),_=i("./listener-handler"),f=i("./id-generator"),y=i("./id-handler"),u=i("./reporter"),a=i("./browser-detector"),l=i("batch-processor"),p=i("./state-handler"),s=i("./detection-strategy/object.js"),h=i("./detection-strategy/scroll.js");function m(o){return Array.isArray(o)||o.length!==void 0}function d(o){if(Array.isArray(o))return o;var t=[];return b(o,function(v){t.push(v)}),t}function n(o){return o&&o.nodeType===1}g.exports=function(o){o=o||{};var t;if(o.idHandler)t={get:function(X){return o.idHandler.get(X,!0)},set:o.idHandler.set};else{var v=f(),S=y({idGenerator:v,stateHandler:p});t=S}var A=o.reporter;if(!A){var C=A===!1;A=u(C)}var R=c(o,"batchProcessor",l({reporter:A})),L={};L.callOnAdd=!!c(o,"callOnAdd",!0),L.debug=!!c(o,"debug",!1);var w=_(t),O=E({stateHandler:p}),P,M=c(o,"strategy","object"),D=c(o,"important",!1),k={reporter:A,batchProcessor:R,stateHandler:p,idHandler:t,important:D};if(M==="scroll"&&(a.isLegacyOpera()?(A.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),M="object"):a.isIE(9)&&(A.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),M="object")),M==="scroll")P=h(k);else if(M==="object")P=s(k);else throw new Error("Invalid strategy name: "+M);var G={};function K(X,V,Q){function Ae(Ee){var J=w.get(Ee);b(J,function(fe){fe(Ee)})}function se(Ee,J,N){w.add(J,N),Ee&&N(J)}if(Q||(Q=V,V=X,X={}),!V)throw new Error("At least one element required.");if(!Q)throw new Error("Listener required.");if(n(V))V=[V];else if(m(V))V=d(V);else return A.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var ie=0,pe=c(X,"callOnAdd",L.callOnAdd),le=c(X,"onReady",function(){}),ue=c(X,"debug",L.debug);b(V,function(J){p.getState(J)||(p.initState(J),t.set(J));var N=t.get(J);if(ue&&A.log("Attaching listener to element",N,J),!O.isDetectable(J)){if(ue&&A.log(N,"Not detectable."),O.isBusy(J)){ue&&A.log(N,"System busy making it detectable"),se(pe,J,Q),G[N]=G[N]||[],G[N].push(function(){ie++,ie===V.length&&le()});return}return ue&&A.log(N,"Making detectable..."),O.markBusy(J,!0),P.makeDetectable({debug:ue,important:D},J,function(j){if(ue&&A.log(N,"onElementDetectable"),p.getState(j)){O.markAsDetectable(j),O.markBusy(j,!1),P.addListener(j,Ae),se(pe,j,Q);var q=p.getState(j);if(q&&q.startSize){var te=j.offsetWidth,ce=j.offsetHeight;(q.startSize.width!==te||q.startSize.height!==ce)&&Ae(j)}G[N]&&b(G[N],function(we){we()})}else ue&&A.log(N,"Element uninstalled before being detectable.");delete G[N],ie++,ie===V.length&&le()})}ue&&A.log(N,"Already detecable, adding listener."),se(pe,J,Q),ie++}),ie===V.length&&le()}function W(X){if(!X)return A.error("At least one element is required.");if(n(X))X=[X];else if(m(X))X=d(X);else return A.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");b(X,function(V){w.removeAllListeners(V),P.uninstall(V),p.cleanState(V)})}function Z(X){P.initDocument&&P.initDocument(X)}return{listenTo:K,removeListener:w.removeListener,removeAllListeners:w.removeAllListeners,uninstall:W,initDocument:Z}};function c(o,t,v){var S=o[t];return S==null&&v!==void 0?v:S}},{"./browser-detector":3,"./collection-utils":4,"./detection-strategy/object.js":5,"./detection-strategy/scroll.js":6,"./element-utils":8,"./id-generator":9,"./id-handler":10,"./listener-handler":11,"./reporter":12,"./state-handler":13,"batch-processor":1}],8:[function(i,g,x){g.exports=function(b){var E=b.stateHandler.getState;function _(a){var l=E(a);return l&&!!l.isDetectable}function f(a){E(a).isDetectable=!0}function y(a){return!!E(a).busy}function u(a,l){E(a).busy=!!l}return{isDetectable:_,markAsDetectable:f,isBusy:y,markBusy:u}}},{}],9:[function(i,g,x){g.exports=function(){var b=1;function E(){return b++}return{generate:E}}},{}],10:[function(i,g,x){g.exports=function(b){var E=b.idGenerator,_=b.stateHandler.getState;function f(u){var a=_(u);return a&&a.id!==void 0?a.id:null}function y(u){var a=_(u);if(!a)throw new Error("setId required the element to have a resize detection state.");var l=E.generate();return a.id=l,l}return{get:f,set:y}}},{}],11:[function(i,g,x){g.exports=function(b){var E={};function _(a){var l=b.get(a);return l===void 0?[]:E[l]||[]}function f(a,l){var p=b.get(a);E[p]||(E[p]=[]),E[p].push(l)}function y(a,l){for(var p=_(a),s=0,h=p.length;s<h;++s)if(p[s]===l){p.splice(s,1);break}}function u(a){var l=_(a);!l||(l.length=0)}return{get:_,add:f,removeListener:y,removeAllListeners:u}}},{}],12:[function(i,g,x){g.exports=function(b){function E(){}var _={log:E,warn:E,error:E};if(!b&&window.console){var f=function(y,u){y[u]=function(){var l=console[u];if(l.apply)l.apply(console,arguments);else for(var p=0;p<arguments.length;p++)l(arguments[p])}};f(_,"log"),f(_,"warn"),f(_,"error")}return _}},{}],13:[function(i,g,x){var b="_erd";function E(y){return y[b]={},_(y)}function _(y){return y[b]}function f(y){delete y[b]}g.exports={initState:E,getState:_,cleanState:f}},{}]},{},[7])(7)})})(Sr);var ms=Sr.exports,vs=function(){for(var r=["oTransform","msTransform","mozTransform","webkitTransform","transform"],e=document.createElement("div").style,i=0;i<r.length;i++)if(r[i]in e)return r[i];return"transform"}();function gs(r){var e=document.createElement("div");if(e.style.cssText="position:absolute;",typeof r.render=="function"){var i=r.render();if(i instanceof HTMLElement)return e.appendChild(i),e}if(e.textContent=r.text,r.style)for(var g in r.style)e.style[g]=r.style[g];return e}function xs(){var r=document.createElement("div");return r.style.cssText="overflow:hidden;white-space:nowrap;transform:translateZ(0);",r}function ys(r){for(var e=r.lastChild;e;)r.removeChild(e),e=r.lastChild}function Es(r){r.style.width=r.width+"px",r.style.height=r.height+"px"}function bs(){}function Ss(r,e){var i=document.createDocumentFragment(),g=0,x=null;for(g=0;g<e.length;g++)x=e[g],x.node=x.node||gs(x),i.appendChild(x.node);for(e.length&&r.appendChild(i),g=0;g<e.length;g++)x=e[g],x.width=x.width||x.node.offsetWidth,x.height=x.height||x.node.offsetHeight}function Ls(r,e){e.node.style[vs]="translate("+e.x+"px,"+e.y+"px)"}function As(r,e){r.removeChild(e.node),this.media||(e.node=null)}var ws={name:"dom",init:xs,clear:ys,resize:Es,framing:bs,setup:Ss,render:Ls,remove:As},Gt=Object.create(null);function Os(r,e){if(Gt[r])return Gt[r];var i=12,g=/(\d+(?:\.\d+)?)(px|%|em|rem)(?:\s*\/\s*(\d+(?:\.\d+)?)(px|%|em|rem)?)?/,x=r.match(g);if(x){var b=x[1]*1||10,E=x[2],_=x[3]*1||1.2,f=x[4];E==="%"&&(b*=e.container/100),E==="em"&&(b*=e.container),E==="rem"&&(b*=e.root),f==="px"&&(i=_),f==="%"&&(i=b*_/100),f==="em"&&(i=b*_),f==="rem"&&(i=e.root*_),f===void 0&&(i=b*_)}return Gt[r]=i,i}function Rs(r,e){if(typeof r.render=="function"){var i=r.render();if(i instanceof HTMLCanvasElement)return r.width=i.width,r.height=i.height,i}var g=document.createElement("canvas"),x=g.getContext("2d"),b=r.style||{};b.font=b.font||"10px sans-serif",b.textBaseline=b.textBaseline||"bottom";var E=b.lineWidth*1;E=E>0&&E!==1/0?Math.ceil(E):!!b.strokeStyle*1,x.font=b.font,r.width=r.width||Math.max(1,Math.ceil(x.measureText(r.text).width)+E*2),r.height=r.height||Math.ceil(Os(b.font,e))+E*2,g.width=r.width,g.height=r.height;for(var _ in b)x[_]=b[_];var f=0;switch(b.textBaseline){case"top":case"hanging":f=E;break;case"middle":f=r.height>>1;break;default:f=r.height-E}return b.strokeStyle&&x.strokeText(r.text,E,f),x.fillText(r.text,E,f),g}function Lr(r){return window.getComputedStyle(r,null).getPropertyValue("font-size").match(/(.+)px/)[1]*1}function Cs(r){var e=document.createElement("canvas");return e.context=e.getContext("2d"),e._fontSize={root:Lr(document.getElementsByTagName("html")[0]),container:Lr(r)},e}function Ps(r,e){r.context.clearRect(0,0,r.width,r.height);for(var i=0;i<e.length;i++)e[i].canvas=null}function Ts(){}function Ds(r){r.context.clearRect(0,0,r.width,r.height)}function Is(r,e){for(var i=0;i<e.length;i++){var g=e[i];g.canvas=Rs(g,r._fontSize)}}function Ms(r,e){r.context.drawImage(e.canvas,e.x,e.y)}function Fs(r,e){e.canvas=null}var ks={name:"canvas",init:Cs,clear:Ps,resize:Ts,framing:Ds,setup:Is,render:Ms,remove:Fs};function Bs(r){var e=this,i=this.media?this.media.currentTime:Date.now()/1e3,g=this.media?this.media.playbackRate:1;function x(p,s){if(s.mode==="top"||s.mode==="bottom")return i-p.time<e._.duration;var h=e._.stage.width+p.width,m=h*(i-p.time)*g/e._.duration;if(p.width>m)return!0;var d=e._.duration+p.time-i,n=e._.stage.width+s.width,c=e.media?s.time:s._utc,o=n*(i-c)*g/e._.duration,t=e._.stage.width-o,v=e._.duration*t/(e._.stage.width+s.width);return d>v}for(var b=this._.space[r.mode],E=0,_=0,f=1;f<b.length;f++){var y=b[f],u=r.height;if((r.mode==="top"||r.mode==="bottom")&&(u+=y.height),y.range-y.height-b[E].range>=u){_=f;break}x(y,r)&&(E=f)}var a=b[E].range,l={range:a+r.height,time:this.media?r.time:r._utc,width:r.width,height:r.height};return b.splice(E+1,_-E-1,l),r.mode==="bottom"?this._.stage.height-r.height-a%this._.stage.height:a%(this._.stage.height-r.height)}function Us(r,e,i,g){return function(){r(this._.stage);var x=Date.now()/1e3,b=this.media?this.media.currentTime:x,E=this.media?this.media.playbackRate:1,_=null,f=0,y=0;for(y=this._.runningList.length-1;y>=0;y--)_=this._.runningList[y],f=this.media?_.time:_._utc,b-f>this._.duration&&(g(this._.stage,_),this._.runningList.splice(y,1));for(var u=[];this._.position<this.comments.length&&(_=this.comments[this._.position],f=this.media?_.time:_._utc,!(f>=b));){if(b-f>this._.duration){++this._.position;continue}this.media&&(_._utc=x-(this.media.currentTime-_.time)),u.push(_),++this._.position}for(e(this._.stage,u),y=0;y<u.length;y++)_=u[y],_.y=Bs.call(this,_),(_.mode==="top"||_.mode==="bottom")&&(_.x=this._.stage.width-_.width>>1),this._.runningList.push(_);for(y=0;y<this._.runningList.length;y++){_=this._.runningList[y];var a=this._.stage.width+_.width,l=a*(x-_._utc)*E/this._.duration;_.mode==="ltr"&&(_.x=l-_.width+.5|0),_.mode==="rtl"&&(_.x=this._.stage.width-l+.5|0),i(this._.stage,_)}}}var Ar=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(r){return setTimeout(r,50/3)},js=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||clearTimeout;function wr(r,e,i){for(var g=0,x=0,b=r.length;x<b-1;)g=x+b>>1,i>=r[g][e]?x=g:b=g;return r[x]&&i<r[x][e]?x:b}function Or(r){return/^(ltr|top|bottom)$/i.test(r)?r.toLowerCase():"rtl"}function Lt(){var r=9007199254740991;return[{range:0,time:-r,width:r,height:0},{range:r,time:r,width:0,height:0}]}function Rr(r){r.ltr=Lt(),r.rtl=Lt(),r.top=Lt(),r.bottom=Lt()}function zt(){if(!this._.visible||!this._.paused)return this;if(this._.paused=!1,this.media)for(var r=0;r<this._.runningList.length;r++){var e=this._.runningList[r];e._utc=Date.now()/1e3-(this.media.currentTime-e.time)}var i=this,g=Us(this._.engine.framing.bind(this),this._.engine.setup.bind(this),this._.engine.render.bind(this),this._.engine.remove.bind(this));function x(){g.call(i),i._.requestID=Ar(x)}return this._.requestID=Ar(x),this}function Wt(){return!this._.visible||this._.paused?this:(this._.paused=!0,js(this._.requestID),this._.requestID=0,this)}function Ht(){if(!this.media)return this;this.clear(),Rr(this._.space);var r=wr(this.comments,"time",this.media.currentTime);return this._.position=Math.max(0,r-1),this}function Ns(r){r.play=zt.bind(this),r.pause=Wt.bind(this),r.seeking=Ht.bind(this),this.media.addEventListener("play",r.play),this.media.addEventListener("pause",r.pause),this.media.addEventListener("playing",r.play),this.media.addEventListener("waiting",r.pause),this.media.addEventListener("seeking",r.seeking)}function Vs(r){this.media.removeEventListener("play",r.play),this.media.removeEventListener("pause",r.pause),this.media.removeEventListener("playing",r.play),this.media.removeEventListener("waiting",r.pause),this.media.removeEventListener("seeking",r.seeking),r.play=null,r.pause=null,r.seeking=null}function Gs(r){this._={},this.container=r.container||document.createElement("div"),this.media=r.media,this._.visible=!0,this.engine=(r.engine||"DOM").toLowerCase(),this._.engine=this.engine==="canvas"?ks:ws,this._.requestID=0,this._.speed=Math.max(0,r.speed)||144,this._.duration=4,this.comments=r.comments||[],this.comments.sort(function(i,g){return i.time-g.time});for(var e=0;e<this.comments.length;e++)this.comments[e].mode=Or(this.comments[e].mode);return this._.runningList=[],this._.position=0,this._.paused=!0,this.media&&(this._.listener={},Ns.call(this,this._.listener)),this._.stage=this._.engine.init(this.container),this._.stage.style.cssText+="position:relative;pointer-events:none;",this.resize(),this.container.appendChild(this._.stage),this._.space={},Rr(this._.space),(!this.media||!this.media.paused)&&(Ht.call(this),zt.call(this)),this}function zs(){if(!this.container)return this;Wt.call(this),this.clear(),this.container.removeChild(this._.stage),this.media&&Vs.call(this,this._.listener);for(var r in this)Object.prototype.hasOwnProperty.call(this,r)&&(this[r]=null);return this}var At=["mode","time","text","render","style"];function Ws(r){if(!r||Object.prototype.toString.call(r)!=="[object Object]")return this;for(var e={},i=0;i<At.length;i++)r[At[i]]!==void 0&&(e[At[i]]=r[At[i]]);if(e.text=(e.text||"").toString(),e.mode=Or(e.mode),e._utc=Date.now()/1e3,this.media){var g=0;e.time===void 0?(e.time=this.media.currentTime,g=this._.position):(g=wr(this.comments,"time",e.time),g<this._.position&&(this._.position+=1)),this.comments.splice(g,0,e)}else this.comments.push(e);return this}function Hs(){return this._.visible?this:(this._.visible=!0,this.media&&this.media.paused?this:(Ht.call(this),zt.call(this),this))}function Ks(){return this._.visible?(Wt.call(this),this.clear(),this._.visible=!1,this):this}function $s(){return this._.engine.clear(this._.stage,this._.runningList),this._.runningList=[],this}function Xs(){return this._.stage.width=this.container.offsetWidth,this._.stage.height=this.container.offsetHeight,this._.engine.resize(this._.stage),this._.duration=this._.stage.width/this._.speed,this}var Ys={get:function(){return this._.speed},set:function(r){return typeof r!="number"||isNaN(r)||!isFinite(r)||r<=0?this._.speed:(this._.speed=r,this._.stage.width&&(this._.duration=this._.stage.width/r),r)}};function We(r){r&&Gs.call(this,r)}We.prototype.destroy=function(){return zs.call(this)};We.prototype.emit=function(r){return Ws.call(this,r)};We.prototype.show=function(){return Hs.call(this)};We.prototype.hide=function(){return Ks.call(this)};We.prototype.clear=function(){return $s.call(this)};We.prototype.resize=function(){return Xs.call(this)};Object.defineProperty(We.prototype,"speed",Ys);const Cr=r=>(ut("data-v-9e15ec20"),r=r(),dt(),r),qs={class:"volume-control"},Qs={key:0,t:"1638282830550",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4100",width:"1.2em",height:"1.2em"},Js=Cr(()=>T("path",{d:"M128 420.576v200.864h149.12l175.456 140.064V284.288l-169.792 136.288H128z m132.256-64l204.288-163.968a32 32 0 0 1 52.032 24.96v610.432a32 32 0 0 1-51.968 24.992l-209.92-167.552H96a32 32 0 0 1-32-32v-264.864a32 32 0 0 1 32-32h164.256zM670.784 720.128a32 32 0 0 1-44.832-45.664 214.08 214.08 0 0 0 64.32-153.312 213.92 213.92 0 0 0-55.776-144.448 32 32 0 1 1 47.36-43.04 277.92 277.92 0 0 1 72.416 187.488 278.08 278.08 0 0 1-83.488 198.976zM822.912 858.88a32 32 0 1 1-45.888-44.608A419.008 419.008 0 0 0 896 521.152c0-108.704-41.376-210.848-114.432-288.384a32 32 0 0 1 46.592-43.872c84.16 89.28 131.84 207.04 131.84 332.256 0 127.84-49.76 247.904-137.088 337.728z","p-id":"4101"},null,-1)),Zs=[Js],ea={key:1,t:"1638360948682",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7834",width:"1.2em",height:"1.2em"},ta=Cr(()=>T("path",{d:"M128 420.576v200.864h149.12l175.456 140.064V284.288l-169.792 136.288H128z m132.256-64l204.288-163.968a32 32 0 0 1 52.032 24.96v610.432a32 32 0 0 1-51.968 24.992l-209.92-167.552H96a32 32 0 0 1-32-32v-264.864a32 32 0 0 1 32-32h164.256zM752 458.656L870.4 300.8a32 32 0 1 1 51.2 38.4L792 512l129.6 172.8a32 32 0 0 1-51.2 38.4l-118.4-157.856-118.4 157.856a32 32 0 0 1-51.2-38.4l129.6-172.8-129.6-172.8a32 32 0 0 1 51.2-38.4l118.4 157.856z","p-id":"7835"},null,-1)),ra=[ta],na={class:"bg-dark volume-drop"},ia=Ye({props:{volume:{type:Number,required:!0,default:100}},emits:["volumeChange"],setup(r,{emit:e}){const i=r,g=Y(i.volume),x=Y({"background-size":i.volume+"% 100%"}),b=Y(!1);at(g,function(){x.value["background-size"]=g.value+"% 100%",b.value=g.value==0,e("volumeChange",g.value)});function E(){b.value=!b.value,g.value=b.value==!1?g.value:0}return(_,f)=>(ee(),re("div",qs,[T("button",{type:"button",class:"btn volume-btn",onClick:E},[b.value?(ee(),re("svg",ea,ra)):(ee(),re("svg",Qs,Zs))]),T("div",na,[je(T("input",{type:"range",style:Qt(x.value),"onUpdate:modelValue":f[0]||(f[0]=y=>g.value=y)},null,4),[[Ne,g.value]])])]))}});var sa=Qe(ia,[["__scopeId","data-v-9e15ec20"]]);const Me=r=>(ut("data-v-6161bfd3"),r=r(),dt(),r),aa={class:"w-100 h-100 d-flex flex-column justify-content-between"},oa=Me(()=>T("div",null,null,-1)),la={key:0,class:"align-self-center"},ua=Me(()=>T("button",{class:"btn btn-outline-secondary text-light align-self-center"}," \u8FDB\u5165\u76F4\u64AD\u95F4 ",-1)),da=[ua],ca={class:"d-flex align-items-center"},ha=Me(()=>T("svg",{t:"1634957175455",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2427",width:"1.2em",height:"1.2em"},[T("path",{d:"M426.666667 138.666667v746.666666a53.393333 53.393333 0 0 1-53.333334 53.333334H266.666667a53.393333 53.393333 0 0 1-53.333334-53.333334V138.666667a53.393333 53.393333 0 0 1 53.333334-53.333334h106.666666a53.393333 53.393333 0 0 1 53.333334 53.333334z m330.666666-53.333334H650.666667a53.393333 53.393333 0 0 0-53.333334 53.333334v746.666666a53.393333 53.393333 0 0 0 53.333334 53.333334h106.666666a53.393333 53.393333 0 0 0 53.333334-53.333334V138.666667a53.393333 53.393333 0 0 0-53.333334-53.333334z","p-id":"2428"})],-1)),fa=[ha],_a=Me(()=>T("svg",{t:"1635335854612",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2419",width:"1.2em",height:"1.2em"},[T("path",{d:"M870.2 466.333333l-618.666667-373.28a53.333333 53.333333 0 0 0-80.866666 45.666667v746.56a53.206667 53.206667 0 0 0 80.886666 45.666667l618.666667-373.28a53.333333 53.333333 0 0 0 0-91.333334z","p-id":"2420"})],-1)),pa=[_a],ma=Me(()=>T("button",{class:"btn"},[T("svg",{t:"1634959851381",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3539",width:"1.2em",height:"1.2em"},[T("path",{d:"M968.604 366.465H762.475c-26.297 0-47.567-21.306-47.567-47.57 0-26.26 21.271-47.567 47.567-47.567h82.748C770.58 165.856 647.837 96.912 508.776 96.912c-227.685 0-412.26 184.576-412.26 412.257 0 227.685 184.576 412.26 412.26 412.26 227.685 0 412.26-184.577 412.26-412.26 0-26.26 21.27-47.567 47.566-47.567 26.263 0 47.57 21.307 47.57 47.567 0 280.226-227.191 507.397-507.396 507.397-280.21 0-507.398-227.17-507.398-507.397 0-280.224 227.189-507.395 507.398-507.395 170.062 0 320.27 83.846 412.259 212.306v-85.457c0-26.263 21.27-47.568 47.566-47.568 26.263 0 47.57 21.305 47.57 47.568v190.273c0.004 26.263-21.307 47.57-47.567 47.57z","p-id":"3540"})])],-1)),va={class:"d-flex flex-row-reverse align-items-center"},ga=Me(()=>T("svg",{t:"1635421603466",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3153",width:"1.2em",height:"1.2em"},[T("path",{d:"M983.04 727.04a40.96 40.96 0 0 0-40.96 40.96v173.592381h-174.08a40.96 40.96 0 1 0 0 82.407619h173.592381A82.407619 82.407619 0 0 0 1024 941.592381v-173.592381a40.96 40.96 0 0 0-40.96-40.96zM941.592381 0h-173.592381a40.96 40.96 0 1 0 0 82.407619h173.592381v173.592381a40.96 40.96 0 1 0 82.407619 0V82.407619A82.407619 82.407619 0 0 0 941.592381 0zM256 941.592381H82.407619v-173.592381a40.96 40.96 0 1 0-82.407619 0v173.592381A82.407619 82.407619 0 0 0 82.407619 1024h173.592381a40.96 40.96 0 1 0 0-82.407619zM40.96 296.96a40.96 40.96 0 0 0 40.96-40.96V82.407619h174.08a40.96 40.96 0 1 0 0-82.407619H82.407619A82.407619 82.407619 0 0 0 0 82.407619v173.592381a40.96 40.96 0 0 0 40.96 40.96z","p-id":"3154"}),T("path",{d:"M219.428571 219.428571m82.407619 0l420.32762 0q82.407619 0 82.407619 82.407619l0 420.32762q0 82.407619-82.407619 82.407619l-420.32762 0q-82.407619 0-82.407619-82.407619l0-420.32762q0-82.407619 82.407619-82.407619Z","p-id":"3155"})],-1)),xa=[ga],ya=Me(()=>T("svg",{t:"1635575410904",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2536",width:"1.2em",height:"1.2em"},[T("path",{d:"M379.336 697.237L153.362 921.55c-14.11 14.007-36.905 13.922-50.912-0.188-14.007-14.11-13.922-36.905 0.188-50.912l227.6-225.927H138.645c-18.99 0-34.385-15.446-34.385-34.5 0-19.053 15.395-34.5 34.385-34.5H413.72c18.99 0 34.384 15.447 34.384 34.5v276c0 9.15-3.622 17.926-10.07 24.396a34.326 34.326 0 0 1-24.314 10.104 34.326 34.326 0 0 1-24.314-10.104 34.559 34.559 0 0 1-10.071-24.396V697.237z m263.395-366.88l227.813-227.813c14.059-14.059 36.853-14.059 50.912 0 14.059 14.059 14.059 36.853 0 50.912l-225.18 225.18h187.147c18.99 0 34.385 15.445 34.385 34.5 0 19.053-15.395 34.5-34.385 34.5H608.346c-18.99 0-34.384-15.447-34.384-34.5v-276c0-9.15 3.622-17.926 10.07-24.396a34.326 34.326 0 0 1 24.314-10.105c9.12 0 17.865 3.635 24.314 10.105a34.559 34.559 0 0 1 10.07 24.395v193.223zM99.385 410a34.326 34.326 0 0 1-24.314-10.105A34.559 34.559 0 0 1 65 375.5v-276C65 80.446 80.395 65 99.385 65h275.077c18.99 0 34.384 15.446 34.384 34.5 0 19.054-15.394 34.5-34.384 34.5H133.769v241.5c0 9.15-3.622 17.925-10.07 24.395A34.326 34.326 0 0 1 99.384 410z m825.23 552H649.538c-18.99 0-34.384-15.446-34.384-34.5 0-19.054 15.394-34.5 34.384-34.5h240.693V651.5c0-19.054 15.394-34.5 34.384-34.5 18.99 0 34.385 15.446 34.385 34.5v276c0 19.054-15.395 34.5-34.385 34.5z","p-id":"2537"})],-1)),Ea=[ya],ba=Me(()=>T("svg",{t:"1635669877743",class:"icon fill-light",viewBox:"0 0 1280 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5386",width:"1.2em",height:"1.2em"},[T("path",{d:"M1088 0a192 192 0 0 1 191.68 180.736L1280 192v640a192 192 0 0 1-180.736 191.68L1088 1024H192a192 192 0 0 1-191.68-180.736L0 832V192A192 192 0 0 1 180.736 0.32L192 0h896z m0 128H192a64 64 0 0 0-63.552 56.512L128 192v640a64 64 0 0 0 56.512 63.552L192 896h896a64 64 0 0 0 63.552-56.512L1152 832V192a64 64 0 0 0-56.512-63.552L1088 128zM444.224 341.824A12.8 12.8 0 0 1 448 350.912v322.176a12.8 12.8 0 0 1-21.824 9.088L264.96 520.96a12.8 12.8 0 0 1 0-18.048L426.24 341.76a12.8 12.8 0 0 1 18.048 0z m391.552 0a12.8 12.8 0 0 1 14.72-2.368l3.328 2.368L1015.04 503.04a12.8 12.8 0 0 1 2.368 14.72l-2.368 3.328-161.152 161.152a12.8 12.8 0 0 1-21.376-5.696L832 673.088V350.912a12.8 12.8 0 0 1 3.776-9.088z","p-id":"5387"})],-1)),Sa=[ba],La=Me(()=>T("svg",{t:"1635670372868",class:"icon fill-light",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5631",width:"1.2em",height:"1.2em"},[T("path",{d:"M950.838629 1023.9802H219.424714C99.052065 1023.9802 0 924.928495 0 804.555486V219.424714C0 99.052065 99.051705 0 219.424714 0h731.413915c120.372469 0 219.424714 99.051705 219.424714 219.424714v585.130772c0 120.372649-99.051705 219.424714-219.424714 219.424714zM221.055483 99.665853c-39.458469-1.828944-126.235314 47.798246-119.84076 121.200633l-0.51911 583.689c-2.786526 45.333915 75.619943 124.659085 118.727841 119.080634l729.972143 0.407332c43.883503 6.211859 122.34523-71.850457 117.666402-119.705942l-0.054539-583.852796c5.147179-43.160817-71.739939-123.128215-117.066834-120.058735l-728.884963-0.760306z","p-id":"5632"}),T("path",{d:"M897.444472 713.129872a54.139703 54.139703 0 0 1-36.570786-13.896989l-166.031097-146.282783c-11.926567-10.411717-18.780473-25.492902-18.780473-41.324853s6.853906-30.913316 18.780473-41.325033l166.031097-146.282782a55.197182 55.197182 0 0 1 36.570786-13.85811c30.272529 0 55.182962 24.910433 55.182962 55.182962 0 15.796491-6.782808 30.856437-18.612356 41.325033l-119.951818 105.323503 119.220492 105.323683c11.677632 10.403437 18.365941 25.319745 18.365941 40.95928 0 30.093252-24.762836 54.856089-54.856089 54.856089h-0.080638 0.731506z m-604.879986 0h-0.080639c-30.093072 0-54.856089-24.762836-54.856088-54.856089 0-15.639535 6.688309-30.555843 18.365941-40.95928l119.951997-105.323683-119.951997-105.323503c-11.829549-10.468596-18.612176-25.528541-18.612176-41.325033 0-30.272529 24.910433-55.182962 55.182962-55.182962a55.196462 55.196462 0 0 1 36.570606 13.85811l166.031097 146.282782c11.926747 10.411717 18.780653 25.493082 18.780653 41.325033s-6.853906 30.913136-18.780653 41.324853l-166.031097 146.282783a54.869588 54.869588 0 0 1-36.570606 13.896989z","p-id":"5633"})],-1)),Aa=[La],wa=Me(()=>T("svg",{t:"1635680402410",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1394",width:"1.2em",height:"1.2em"},[T("path",{d:"M908.8 896H115.2c-22.4 0-40-17.6-40-40v-688C75.2 145.6 92.8 128 115.2 128h792c22.4 0 40 17.6 40 40v688c1.6 22.4-16 40-38.4 40zM155.2 816h712V208H155.2v608z","p-id":"1395"}),T("path",{d:"M257.6 524.8c-22.4 0-40-17.6-40-40v-176c0-22.4 17.6-40 40-40h176c22.4 0 40 17.6 40 40s-17.6 40-40 40h-136v136c0 22.4-17.6 40-40 40zM766.4 755.2h-176c-22.4 0-40-17.6-40-40s17.6-40 40-40h136v-136c0-22.4 17.6-40 40-40s40 17.6 40 40v176c0 22.4-17.6 40-40 40z","p-id":"1396"})],-1)),Oa=[wa],Ra=Me(()=>T("svg",{t:"1635680173087",class:"icon fill-light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1194",width:"1.2em",height:"1.2em"},[T("path",{d:"M908.8 896H115.2c-22.4 0-40-17.6-40-40v-688C75.2 145.6 92.8 128 115.2 128h792c22.4 0 40 17.6 40 40v688c1.6 22.4-16 40-38.4 40zM155.2 816h712V208H155.2v608z","p-id":"1195"}),T("path",{d:"M433.6 268.8c22.4 0 40 17.6 40 40v176c0 22.4-17.6 40-40 40h-176c-22.4 0-40-17.6-40-40s17.6-40 40-40h136v-136c0-22.4 17.6-40 40-40zM590.4 499.2h176c22.4 0 40 17.6 40 40s-17.6 40-40 40h-136v136c0 22.4-17.6 40-40 40s-40-17.6-40-40v-176c0-22.4 17.6-40 40-40z","p-id":"1196"})],-1)),Ca=[Ra],Pa=Rt('<div class="btn dropup" data-v-6161bfd3><button type="button" class="btn text-light btn-sm" data-toggle="dropdown" data-v-6161bfd3> 1080P </button><div class="dropdown-menu dropdown-menu-right bg-dark" data-v-6161bfd3><button class="dropdown-item text-light small" data-v-6161bfd3> 1080P60 </button><button class="dropdown-item active text-light small" data-v-6161bfd3> 1080P </button><button class="dropdown-item text-light small" data-v-6161bfd3>720P</button><button class="dropdown-item text-light small" data-v-6161bfd3>480P</button></div></div>',1),Ta={props:{title:String,anchor:String,video_src:String,display_mode:String,danmakus:[]},emits:["switchWidescreen"],setup(r,{emit:e}){var i=null,g=ms();const x=Y(!1),b=Y(!1);Y(!1);const E=Y(!1),_=Y(!1),f=Y(!0),y=Y(100),u=Y(null),a=Y(null);st(()=>{qe(()=>{i=new We({container:a.value,comments:[]}),g.listenTo(u.value,()=>{qe(()=>{i.resize()})}),window.addEventListener("fullscreenchange",()=>{document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||(b.value=!1)})})});function l(o){y.value=Number(o)}Yt(()=>{i.destroy(),g.uninstall()});function p(){x.value=!1}function s(o){e("switchWidescreen",o),E.value=o}function h(o){b.value=o,o?u.value.requestFullscreen?u.value.requestFullscreen():u.value.mozRequestFullScreen?u.value.mozRequestFullScreen():u.value.msRequestFullscreen?u.value.msRequestFullscreen():u.value.oRequestFullscreen&&u.value.oRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.oRequestFullscreen?document.oCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function m(){x.value=!0}let d=null;function n(){d!=null&&c(),f.value=!0,d=setTimeout(()=>{f.value=!1,d=null},3e3)}function c(){clearTimeout(d),d=null,f.value=!1}return(o,t)=>(ee(),re("div",null,[T("div",{ref:(v,S)=>{S.playerContainerElement=v,u.value=v},class:Ge(["w-100 h-100",{"page-fullscreen":_.value}]),style:Qt({position:_.value?"fixed":"relative"})},[Ue(Zt,{volume:y.value/100,playing:x.value,video_src:r.video_src},null,8,["volume","playing","video_src"]),T("div",{class:"position-absolute m-0",style:{"z-index":"1",left:"0",top:"0%",bottom:"0%",right:"0%"},ref:(v,S)=>{S.danmakuContainerElement=v,a.value=v}},null,512),T("div",{class:"position-absolute m-0 overflow-hidden",style:{"z-index":"2",left:"0",top:"0%",bottom:"0%",right:"0%"},onMousemove:n,onMouseleave:c},[T("div",aa,[oa,r.display_mode=="top tv"?(ee(),re("div",la,da)):Oe("",!0),T("div",{class:Ge(["d-flex justify-content-between player-bottom-controls",{"player-bottom-controls-show":f.value}])},[T("div",ca,[x.value?(ee(),re("button",{key:0,class:"btn",onClick:p},fa)):Oe("",!0),x.value?Oe("",!0):(ee(),re("button",{key:1,class:"btn",onClick:m},pa)),ma,Ue(sa,{volume:y.value,onVolumeChange:l},null,8,["volume"])]),T("div",va,[b.value?Oe("",!0):(ee(),re("button",{key:0,class:"btn",onClick:t[0]||(t[0]=v=>h(!0))},xa)),b.value?(ee(),re("button",{key:1,class:"btn",onClick:t[1]||(t[1]=v=>h(!1))},Ea)):Oe("",!0),E.value?Oe("",!0):(ee(),re("button",{key:2,class:"btn",onClick:t[2]||(t[2]=v=>s(!0))},Sa)),E.value?(ee(),re("button",{key:3,class:"btn",onClick:t[3]||(t[3]=v=>s(!1))},Aa)):Oe("",!0),_.value?Oe("",!0):(ee(),re("button",{key:4,class:"btn",onClick:t[4]||(t[4]=v=>_.value=!0)},Oa)),_.value?(ee(),re("button",{key:5,class:"btn",onClick:t[5]||(t[5]=v=>_.value=!1)},Ca)):Oe("",!0),Pa])],2)])],32)],6)]))}};var Da=Qe(Ta,[["__scopeId","data-v-6161bfd3"]]);const Ia={class:"container"},Ma={class:"row"},Fa=Ye({setup(r){const e=Y(!1),i=Y(),g=Y();let x=0;const b=new St;b.apiLiveNameGet(nt.currentRoute.value.params.id).then(f=>{f.status==200&&(i.value=f.data.name,g.value=f.data.director,x=f.data.id)});const _=Y("http://192.168.0.109:8080/linktv?app=linktv&stream="+x);return b.apiLiveAddressPlayFlvGet(x).then(f=>{f.status===200&&(_.value=f.data.address)}),(f,y)=>(ee(),re("div",null,[Ue(br),T("div",Ia,[T("div",Ma,[Ue(Da,{class:Ge(["col-12",{"col-md-9":!e.value}]),title:i.value,anchor:g.value,video_src:_.value,onSwitchWidescreen:y[0]||(y[0]=u=>e.value=u),ref:(u,a)=>{a.playerRef=u}},null,8,["title","anchor","video_src","class"])])])]))}});const $e=r=>(ut("data-v-f20375ea"),r=r(),dt(),r),ka={class:"position-fixed w-100 h-100 bg-translucent"},Ba={class:"d-flex w-100 h-100 justify-content-center"},Ua={class:"align-self-center d-flex flex-column justify-content-center bg-light px-5 py-4 rounded"},ja=$e(()=>T("span",{"aria-hidden":"true"},"\xD7",-1)),Na=[ja],Va=$e(()=>T("label",{for:"user-name",class:"mb-0 mt-3"},"\u7528\u6237\u540D",-1)),Ga=$e(()=>T("label",{for:"email",class:"mb-0 mt-3 form-text"},"Email",-1)),za={class:"input-group"},Wa=$e(()=>T("label",{for:"email-authcode",class:"mb-0 mt-3 form-text"},"Email\u9A8C\u8BC1\u7801",-1)),Ha=$e(()=>T("label",{for:"password",class:"mb-0 mt-3"},"\u5BC6\u7801",-1)),Ka=$e(()=>T("label",{for:"repeat-password",class:"mb-0 mt-3"},"\u91CD\u590D\u5BC6\u7801",-1)),$a=$e(()=>T("br",null,null,-1)),Xa={setup(r){const e=Y(""),i=Y(""),g=Y(""),x=Y(""),b=Y(""),E=Y("");var _="";const f=Y(""),y=Y(""),u=Y(""),a=new Vt,l=new di;function p(){if(e.value.length==0){i.value="";return}a.apiUserValidNameGet(e.value).then(t=>{if(t.status!=200){console.log(t);return}i.value=t.data.available?"ok":"\u7528\u6237\u540D\u5DF2\u5B58\u5728"})}function s(){if(g.value.length==0){x.value="";return}var o=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;x.value=o.test(g.value)?"ok":"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E",a.apiUserValidEmailGet(g.value).then(t=>{x.value=t.data.available?"ok":"\u90AE\u7BB1\u5DF2\u5B58\u5728"})}function h(){x.value.length==0||x.value!="ok"||l.apiCaptchaEmailGet(g.value).then(o=>{})}function m(){if(b.value.length==0){E.value="";return}g.value.length!=0&&l.apiCaptchaVerificationEmailPost({key:g.value,code:b.value}).then(o=>{o.status==200?(E.value="ok",_=o.data.licence,console.log(_)):E.value="\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"})}function d(){f.value.length==0||y.value.length==0||(u.value=f.value==y.value?"ok":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4")}function n(){a.apiUserSignupPost({name:e.value,email:g.value,emailLicence:_,password:f.value}).then(o=>{o.status==200?(localStorage.setItem("token",o.data.token),nt.push("/home")):o.status==400})}function c(){nt.push("/")}return(o,t)=>(ee(),re("div",ka,[T("div",Ba,[T("div",Ua,[T("button",{type:"button",class:"close align-self-end","aria-label":"Close",onClick:c},Na),T("div",null,[Va,je(T("input",{id:"user-name",class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=v=>e.value=v),onBlur:p},null,544),[[Ne,e.value]]),i.value!=""?(ee(),re("span",{key:0,class:Ge(["small",i.value=="ok"?"text-success":"text-danger"])},"* "+Fe(i.value),3)):Oe("",!0)]),T("div",null,[Ga,T("div",za,[je(T("input",{id:"email",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=v=>g.value=v),onBlur:s},null,544),[[Ne,g.value]]),T("span",{class:"input-group-append"},[T("button",{class:"btn",onClick:h},"\u9A8C\u8BC1")])]),x.value!=""?(ee(),re("span",{key:0,class:Ge(["small",x.value=="ok"?"text-success":"text-danger"])},"* "+Fe(x.value),3)):Oe("",!0)]),T("div",null,[Wa,je(T("input",{id:"email-authcode",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=v=>b.value=v),onBlur:m},null,544),[[Ne,b.value]]),E.value!=""?(ee(),re("span",{key:0,class:Ge(["small",E.value=="ok"?"text-success":"text-danger"])},"* "+Fe(E.value),3)):Oe("",!0)]),T("div",null,[Ha,je(T("input",{id:"password",class:"form-control",type:"password","onUpdate:modelValue":t[3]||(t[3]=v=>f.value=v),onBlur:d},null,544),[[Ne,f.value]]),u.value!=""?(ee(),re("span",{key:0,class:Ge(["small",u.value=="ok"?"text-success":"text-danger"])},"* "+Fe(u.value),3)):Oe("",!0)]),T("div",null,[Ka,je(T("input",{id:"repeat-password",class:"form-control",type:"password","onUpdate:modelValue":t[4]||(t[4]=v=>y.value=v),onBlur:d},null,544),[[Ne,y.value]]),u.value!=""?(ee(),re("span",{key:0,class:Ge(["small",u.value=="ok"?"text-success":"text-danger"])},"* "+Fe(u.value),3)):Oe("",!0)]),$a,T("button",{class:"btn btn-primary w-25",onClick:n},"\u6CE8\u518C")])])]))}};var Ya=Qe(Xa,[["__scopeId","data-v-f20375ea"]]);const qa=[{path:"/live/:id",component:Fa},{path:"/home",component:ps},{path:"/",redirect:"home"},{path:"/signup",component:Ya}],nt=Nr({history:Vr(),routes:qa}),Pr=Gr(Kr);Pr.use(nt);Pr.mount("#app");
